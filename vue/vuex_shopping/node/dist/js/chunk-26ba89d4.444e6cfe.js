(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ba89d4"],{"283f":function(t,r,s){"use strict";var e=s("80db"),o=s.n(e);o.a},"2aec":function(t,r,s){},"6be2":function(t,r,s){"use strict";s.r(r);var e=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length,expression:"list.length"}]},[s("div",{staticClass:"list-control"},[s("div",{staticClass:"list-control-filter"},[s("span",[t._v("品牌:")]),t._l(t.brands,(function(r,e){return s("span",{key:e,staticClass:"list-control-filter-item",class:{on:r===t.filterBrand},on:{click:function(s){return t.handleFilterBrand(r)}}},[t._v(t._s(r))])}))],2),s("div",{staticClass:"list-control-filter"},[s("span",[t._v("颜色:")]),t._l(t.colors,(function(r,e){return s("span",{key:e,staticClass:"list-control-filter-item",class:{on:r===t.filterColor},on:{click:function(s){return t.handleFilterColor(r)}}},[t._v(t._s(r))])}))],2),s("div",{staticClass:"list-control-order"},[s("span",[t._v("排序:")]),s("span",{staticClass:"list-control-order-item",class:{on:""===t.order},on:{click:t.handleOrderDefault}},[t._v("默认")]),s("span",{staticClass:"list-control-order-item",class:{on:"sales"===t.order},on:{click:t.handleOrderSales}},[t._v(" 销量 "),"sales"===t.order?[t._v("↓")]:t._e()],2),s("span",{staticClass:"list-control-order-item",class:{on:t.order.indexOf("cost")>-1},on:{click:t.handleOrderCost}},[t._v(" 价格 "),"cost-desc"===t.order?[t._v("↓")]:t._e(),"cost-asc"===t.order?[t._v("↑")]:t._e()],2)])]),t._l(t.filteredAndOrderedList,(function(t){return s("Product",{key:t.id,attrs:{info:t}})})),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.filteredAndOrderedList.length,expression:"!filteredAndOrderedList.length"}],staticClass:"product-not-found"},[t._v("暂无相关商品")])],2)},o=[],n=(s("4de4"),s("ac1f"),s("5319"),s("2909")),i=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"product"},[s("router-link",{staticClass:"product-main",attrs:{to:"/product/"+t.info.id}},[s("img",{attrs:{src:t.info.image}}),s("h4",[t._v(t._s(t.info.name))]),s("h4",[t._v("销量"+t._s(t.info.sales))]),s("div",{staticClass:"product-color",style:{background:t.colors[t.info.color]}}),s("div",{staticClass:"product-cost"},[t._v("￥ "+t._s(t.info.cost))]),s("div",{staticClass:"product-add-cart",on:{click:function(r){return r.preventDefault(),t.handleAddCart(r)}}},[t._v("加入购物车")])])],1)},l=[],c={props:{info:Object},data:function(){return{colors:{"白色":"#ffffff","金色":"#dac272","蓝色":"#233472","红色":"#f2352e"}}},methods:{handleAddCart:function(){this.$store.commit("addCart",this.info.id)}}},a=c,d=(s("f6ab"),s("2877")),f=Object(d["a"])(a,i,l,!1,null,"4d359137",null),u=f.exports,h={components:{Product:u},computed:{list:function(){return this.$store.state.productList},brands:function(){return this.$store.getters.brands},colors:function(){return this.$store.getters.colors},filteredAndOrderedList:function(){var t=this,r=Object(n["a"])(this.list);return""!==this.filterBrand&&(r=r.filter((function(r){return r.brand===t.filterBrand}))),""!==this.filterColor&&(r=r.filter((function(r){return r.color===t.filterColor}))),""!==this.order&&("sales"===this.order?r=r.sort((function(t,r){return r.sales-t.sales})):"cost-desc"===this.order?r=r.sort((function(t,r){return r.cost-t.cost})):"cost-asc"===this.order&&(r=r.sort((function(t,r){return t.cost-r.cost})))),r}},data:function(){return{filterBrand:"",filterColor:"",order:""}},methods:{handleFilterBrand:function(t){this.filterBrand===t?this.filterBrand="":this.filterBrand=t},handleFilterColor:function(t){this.filterColor===t?this.filterColor="":this.filterColor=t},handleOrderDefault:function(){this.order=""},handleOrderSales:function(){this.order="sales"},handleOrderCost:function(){"cost-desc"===this.order?this.order="cost-asc":this.order="cost-desc"}},mounted:function(){null==window.localStorage.getItem("username")&&(window.alert("请先完成登录"),this.$router.replace("/login")),this.$store.dispatch("getProductList")}},v=h,p=(s("283f"),Object(d["a"])(v,e,o,!1,null,"53bb4472",null));r["default"]=p.exports},"80db":function(t,r,s){},f6ab:function(t,r,s){"use strict";var e=s("2aec"),o=s.n(e);o.a}}]);
//# sourceMappingURL=chunk-26ba89d4.444e6cfe.js.map
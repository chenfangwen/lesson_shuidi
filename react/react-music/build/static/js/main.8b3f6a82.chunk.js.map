{"version":3,"sources":["assets/global-style.js","application/Player/store/actionCreators.js","api/request.js","style.js","assets/iconfont/iconfont.js","application/Recommend/store/reducer.js","application/Singers/store/reducer.js","application/Album/store/reducer.js","application/Player/store/reducer.js","application/Search/store/reducer.js","application/Singer/store/reducer.js","store/reducer.js","store/index.js","layouts/HomeLayout.style.js","application/Player/play-list/style.js","baseUI/confirm/index.js","application/Player/play-list/index.js","baseUI/toast/index.js","api/lyric-parser.js","baseUI/progress-circle/index.js","application/Player/mini-player/style.js","application/Player/mini-player/index.js","baseUI/progress-bar/index.js","application/Player/normal-player/style.js","application/Player/normal-player/index.js","application/Player/index.js","layouts/HomeLayout.js","layouts/BlankLayout.js","routes/index.js","App.js","serviceWorker.js","index.js","application/Singers/store/constants.js","application/Search/store/constants.js","application/Singer/store/constants.js","application/Recommend/store/constants.js","application/Album/store/constants.js","baseUI/scroll/index.js","baseUI/loading/index.js","application/Singer/store/actionCreators.js","application/Recommend/store/actionCreators.js","application/Singers/store/actionCreators.js","application/Album/store/actionCreators.js","application/Search/store/actionCreators.js","api/utils.js","application/Rank/store/index.js","baseUI/loading-v2/index.js","api/config.js","application/Player/normal-player/disc.png","application/Player/normal-player/needle.png","application/Player/store/constants.js"],"names":["extendClick","noWrap","bgFull","changeCurrentSong","data","type","SET_CURRENT_SONG","fromJS","changeFullScreen","SET_FULL_SCREEN","changePlayingState","SET_PLAYING_STATE","changeSequecePlayList","SET_SEQUECE_PLAYLIST","changePlayList","SET_PLAYLIST","changePlayMode","SET_PLAY_MODE","changeSpeed","CHANGE_SPEED","changeCurrentIndex","SET_CURRENT_INDEX","changeShowPlayList","SET_SHOW_PLAYLIST","deleteSong","DELETE_SONG","getSongDetail","id","dispatch","getSongDetailRequest","then","song","songs","INSERT_SONG","insertSong","getBannerRequest","axiosInstance","get","getRecommendListRequest","getHotSingerListRequest","count","getSingerListRequest","category","alpha","toLowerCase","getRankListRequest","getAlbumDetailRequest","getSingerInfoRequest","getHotKeyWordsRequest","getSuggestListRequest","query","getResultSongsListRequest","getLyricRequest","GlobalStyle","createGlobalStyle","IconStyle","defaultState","bannerList","recommendList","enterLoading","singerList","pullUpLoading","pullDownLoading","listOffset","currentAlbum","fullScreen","playing","sequencePlayList","playList","mode","playMode","sequence","currentIndex","showPlayList","currentSong","speed","handleInsertSong","state","JSON","parse","stringify","toJS","sequenceList","fpIndex","findIndex","splice","sequenceIndex","fsIndex","merge","handleDeleteSong","hotList","suggestList","songsList","artist","songsOfArtist","loading","combineReducers","recommend","action","actionTypes","set","singers","rank","rankReducer","album","player","singerInfo","search","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","Top","styled","div","style","Tab","TabItem","PlayListWrapper","ScrollWrapper","ListHeader","ListContent","confirmFadeIn","keyframes","confirmZoom","ConfirmWrapper","Confirm","forwardRef","props","ref","useState","show","setShow","text","cancelBtnText","confirmBtnText","handleConfirm","useImperativeHandle","CSSTransition","classNames","timeout","appear","in","display","onClick","e","stopPropagation","className","React","memo","connect","getIn","togglePlayListDispatch","changeCurrentIndexDispatch","changeModeDispatch","changePlayListDispatch","deleteSongDispatch","clearDispatch","canTouch","setCanTouch","startY","setStartY","initialed","setInitialed","distance","setDistance","immutableCurrentSong","immutablePlayList","immutableSequencePlayList","listContentRef","useRef","confirmRef","playListRef","listWrapperRef","isShow","setIsShow","transform","prefixStyle","onEnterCB","useCallback","current","onEnteringCB","onExitingCB","onExitedCB","changeMode","newMode","index","newList","shuffle","onEnter","onEntering","onExiting","onExited","onTouchStart","nativeEvent","touches","pageY","onTouchMove","onTouchEnd","content","loop","dangerouslySetInnerHTML","__html","getPlayMode","onScroll","pos","y","handleScroll","bounceTop","map","item","key","handleChangeCurrentIndex","getCurrentIcon","name","getName","ar","ToastWrapper","Toast","timer","setTimer","clearTimeout","setTimeout","unmountOnExit","timeExp","Lyric","lrc","hanlder","this","lines","handler","curLineIndex","startStamp","_initLines","split","i","length","line","result","exec","txt","replace","trim","push","time","sort","a","b","offset","isSeek","_findcurLineIndex","_callHandler","Date","_playRest","stop","play","lineNum","delay","preTime","CircleWrapper","radius","percent","dashArray","Math","PI","dashOffset","width","height","viewBox","version","xmlns","r","cx","cy","fill","strokeDasharray","strokeDashoffset","children","rotate","MiniPlayerContainer","full","clickPlaying","setFullScreen","togglePlayList","miniPlayerRef","miniWrapperRef","miniImageRef","handleTogglePlayList","src","al","picUrl","alt","ProgressBarWrapper","ProgressBar","progressBar","progress","progressBtn","touch","setTouch","percentChange","useEffect","initiated","barWidth","clientWidth","offsetWidth","_changePercent","curPercent","_offset","rect","getBoundingClientRect","pageX","left","startTouch","startX","deltaX","min","max","endTouch","NormalPlayerContainer","Middle","CDWrapper","needle","disc","LyricContainer","LyricWrapper","Bottom","ProgressWrapper","Operators","List","ListItem","span","currentTime","duration","currentLineNum","currentPlayingLyric","currentLyric","handlePrev","handleNext","onProgressChange","toggleFullScreenDispatch","clickSpeed","normalPlayerRef","lyricScrollRef","lyricLineRefs","cdWrapperRef","currentState","setCurrentState","bScroll","getBScroll","lineEl","scrollToElement","scrollTo","_getPosAndScale","innerWidth","scale","x","innerHeight","clickPlayingCB","mountOnEnter","animation","0","60","100","animations","registerAnimation","presets","easing","runAnimation","onEntered","cdWrapperDom","unregisterAnimation","onExit","transition","visibility","createRef","list","formatPlayTime","togglePlayingDispatch","changeCurrentDispatch","changeSpeedDispatch","setCurrentTime","setDuration","setPlayingLyric","modeText","setModeText","isNaN","preSong","setPreSong","audioRef","toastRef","songReady","getSongUrl","autoplay","playbackRate","getLyric","dt","pause","handleLyric","lyric","seek","catch","togglePlay","handleLoop","isEmptyObject","newTime","newSpeed","clearPreSong","bind","onTimeUpdate","target","onEnded","onError","alert","route","history","to","activeClassName","renderRoutes","routes","Layout","SuspenseComponent","Component","fallback","RecommendComponent","lazy","SingersComponent","RankComponent","AlbumComponent","SingerComponent","SearchComponent","component","BlankLayout","path","HomeLayout","exact","render","App","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message","CHANGE_CATOGORY","CHANGE_ALPHA","CHANGE_SINGER_LIST","CHANGE_LIST_OFFSET","CHANGE_ENTER_LOADING","CHANGE_PULLUP_LOADING","CHANGE_PULLDOWN_LOADING","SET_HOT_KEYWRODS","SET_SUGGEST_LIST","SET_RESULT_SONGS_LIST","SET_ENTER_LOADING","CHANGE_ARTIST","CHANGE_SONGS_OF_ARTIST","CHANGE_BANNER","CHANGE_RECOMMEND_LIST","CHANGE_CURRENT_ALBUM","ScrollContainer","PullUpLoading","PullDownLoading","Scroll","setBScroll","scrollContaninerRef","direction","click","refresh","bounceBottom","pullUp","pullDown","pullUpDebounce","useMemo","debounce","pullDownDebounce","scroll","BScroll","scrollX","scrollY","probeType","bounce","top","bottom","on","off","maxScrollY","PullUpdisplayStyle","PullDowndisplayStyle","defaultProps","LoadingWrapper","changeEnterLoading","getSingerInfo","changeArtist","changeSongs","hotSongs","getBannerList","log","banners","changeBannerList","getRecommendList","changeRecommendList","changeCategory","changeAlpha","changeSingerList","changeListOffset","changePullUpLoading","changePullDownLoading","getHotSingerList","res","artists","refreshMoreHotSingerList","getState","getSingerList","refreshMoreSingerList","getAlbumList","playlist","changeCurrentAlbum","getHotKeyWords","hots","changeHotKeyWords","getSuggestList","changeSuggestList","changeResultSongs","getCount","floor","func","args","apply","filterIndex","rankList","tracks","str","obj","Object","keys","interval","minute","second","toString","padStart","elementStyle","createElement","vendor","transformNames","webkit","Moz","O","ms","standard","undefined","charAt","toUpperCase","substr","arr","new_arr","forEach","j","random","t","getRankList","changeRankList","changeLoading","dance","Loading","axios","create","baseURL","interceptors","response","use","err","categoryTypes","alphaTypes","ONE_PAGE_COUNT","HEADER_HEIGHT","module","exports"],"mappings":"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","file":"static/js/main.8b3f6a82.chunk.js","sourcesContent":["const extendClick = () => {\r\n  return `\r\n    position: relative;\r\n    &:before{\r\n      content: '';\r\n      position: absolute;\r\n      top: -10px; bottom: -10px; left: -10px; right: -10px;\r\n    };\r\n  `;\r\n};\r\n\r\nconst noWrap = () => {\r\n  return `\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  `;\r\n};\r\n\r\nconst bgFull = () => {\r\n  return `\r\n    background-position: 50%;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n  `\r\n};\r\n\r\nexport default {\r\n  \"theme-color\": \"#d44439\",\r\n  \"theme-color-shadow\": \"rgba(212, 68, 57, .5)\",\r\n  \"font-color-light\": \"#f1f1f1\",\r\n  \"font-color-light-shadow\": \"rgba(241, 241, 241, 0.6)\",//略淡\r\n  \"font-color-desc\": \"#2E3030\",\r\n  \"font-color-desc-v2\": \"#bba8a8\", //略淡\r\n  \"font-size-ss\": \"10px\",\r\n  \"font-size-s\": \"12px\",\r\n  \"font-size-m\": \"14px\",\r\n  \"font-size-l\": \"16px\",\r\n  \"font-size-ll\": \"18px\",\r\n  \"border-color\": \"#e4e4e4\",\r\n  \"border-color-v2\": \"rgba(228, 228, 228, 0.1)\",\r\n  \"background-color\": \"#f2f3f4\",\r\n  \"background-color-shadow\": \"rgba(0, 0, 0, 0.3)\",\r\n  \"highlight-background-color\": \"#fff\",\r\n  \"official-red\": \"#E82001\",\r\n  extendClick,\r\n  noWrap,\r\n  bgFull\r\n};","import { SET_CURRENT_SONG, SET_FULL_SCREEN, SET_PLAYING_STATE, SET_SEQUECE_PLAYLIST, SET_PLAYLIST, SET_PLAY_MODE, SET_CURRENT_INDEX, SET_SHOW_PLAYLIST, DELETE_SONG, INSERT_SONG, CHANGE_SPEED } from './constants';\nimport { fromJS } from 'immutable';\nimport { getSongDetailRequest } from '../../../api/request';\n\nexport const changeCurrentSong = (data) => ({\n  type: SET_CURRENT_SONG,\n  data: fromJS(data)\n});\n\nexport const changeFullScreen =  (data) => ({\n  type: SET_FULL_SCREEN,\n  data\n});\n\nexport const changePlayingState = (data) => ({\n  type: SET_PLAYING_STATE,\n  data\n});\n\nexport const changeSequecePlayList = (data) => ({\n  type: SET_SEQUECE_PLAYLIST,\n  data: fromJS(data)\n});\n\nexport const changePlayList  = (data) => ({\n  type: SET_PLAYLIST,\n  data: fromJS(data)\n});\n\nexport const changePlayMode = (data) => ({\n  type: SET_PLAY_MODE,\n  data\n});\n\nexport const changeSpeed = (data) => ({\n  type: CHANGE_SPEED,\n  data\n});\n\nexport const changeCurrentIndex = (data) => ({\n  type: SET_CURRENT_INDEX,\n  data\n});\n\nexport const changeShowPlayList = (data) => ({\n  type: SET_SHOW_PLAYLIST,\n  data\n});\n\nexport const insertSong = (data) => ({\n  type: INSERT_SONG,\n  data\n});\n\nexport const deleteSong = (data) => ({\n  type: DELETE_SONG,\n  data\n});\n\n// const insertSong = (dispatch, getState, song) => {\n//   const playList = JSON.parse(JSON.stringify(getState().getIn(['player', 'playList']).toJS()));\n//   const sequenceList = JSON.parse(JSON.stringify(getState().getIn(['player', 'sequencePlayList']).toJS()));\n//   let currentIndex = getState().getIn(['player', 'currentIndex']);\n//   //看看有没有同款\n//   let fpIndex = findIndex(song, playList);\n//   // 如果是当前歌曲直接不处理\n//   if(fpIndex === currentIndex && currentIndex != -1) return;\n//   currentIndex++;\n//   // 把歌放进去,放到当前播放曲目的下一个位置\n//   playList.splice(currentIndex, 0, song);\n//   console.log(playList)\n//   console.log(currentIndex)\n//   console.log(fpIndex)\n//   // 如果列表中已经存在要添加的歌\n//   if(fpIndex > -1) {\n//     if(currentIndex > fpIndex) {\n//       playList.splice(fpIndex, 1);\n//       currentIndex--;\n//     } else {\n//       playList.splice(fpIndex+1, 1);\n//     }\n//   }\n\n//   let sequenceIndex = findIndex(playList[currentIndex], sequenceList) + 1;\n//   sequenceList.splice(sequenceIndex, 0, song);\n//   let fsIndex = findIndex(song, sequenceList);\n//   if(fsIndex > -1) {\n//     if(currentIndex > fsIndex) {\n//       sequenceList.splice(fsIndex, 1);\n//       currentIndex--;\n//     } else {\n//       sequenceList.splice(fsIndex + 1, 1);\n//     }\n//   }\n//   dispatch(changePlayList(playList));\n//   dispatch(changeSequecePlayList(sequenceList));\n//   dispatch(changeCurrentIndex(currentIndex));\n// }\n\nexport const getSongDetail = (id) => {\n  return (dispatch) => {\n    getSongDetailRequest(id).then(data => {\n      let song = data.songs[0];\n      dispatch(insertSong( song));\n    })\n  }\n}","import { axiosInstance } from \"./config\";\r\n\r\nexport const getBannerRequest = () => {\r\n  return axiosInstance.get(\"/banner\");\r\n};\r\n\r\nexport const getRecommendListRequest = () => {\r\n  return axiosInstance.get(\"/personalized\");\r\n};\r\n\r\nexport const getHotSingerListRequest = count => {\r\n  return axiosInstance.get(`/top/artists?offset=${count}`);\r\n};\r\n\r\nexport const getSingerListRequest = (category, alpha, count) => {\r\n  return axiosInstance.get(\r\n    `/artist/list?cat=${category}&initial=${alpha.toLowerCase()}&offset=${count}`\r\n  );\r\n};\r\n\r\nexport const getRankListRequest = () => {\r\n  return axiosInstance.get(`/toplist/detail`);\r\n};\r\n\r\nexport const getAlbumDetailRequest = id => {\r\n  return axiosInstance.get(`/playlist/detail?id=${id}`);\r\n};\r\n\r\nexport const getSingerInfoRequest = id => {\r\n  return axiosInstance.get(`/artists?id=${id}`);\r\n};\r\n\r\nexport const getHotKeyWordsRequest = () => {\r\n  return axiosInstance.get(`/search/hot`);\r\n};\r\n\r\nexport const getSuggestListRequest = query => {\r\n  return axiosInstance.get(`/search/suggest?keywords=${query}`);\r\n};\r\n\r\nexport const getResultSongsListRequest = query => {\r\n  return axiosInstance.get(`/search?keywords=${query}`);\r\n};\r\n\r\nexport const getSongDetailRequest = id => {\r\n  return axiosInstance.get(`/song/detail?ids=${id}`);\r\n};\r\n\r\nexport const getLyricRequest = id => {\r\n  return axiosInstance.get(`/lyric?id=${id}`);\r\n};\r\n\r\nexport const loginByPhoneRequest = (phone, password) => {\r\n  return axiosInstance.get(\r\n    `/login/cellphone?phone=${phone}&password=${password}`\r\n  );\r\n};\r\n\r\nexport const sentVcodeRequest = phone => {\r\n  return axiosInstance.get(`/captcha/sent?phone=${phone}`);\r\n};\r\n\r\nexport const loginByVcodeRequest = (phone, vcode) => {\r\n  return axiosInstance.get(`/captcha/verify?phone=${phone}&captcha=${vcode}`);\r\n};","import { createGlobalStyle } from'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  html, body, div, span, applet, object, iframe,\r\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n  a, abbr, acronym, address, big, cite, code,\r\n  del, dfn, em, img, ins, kbd, q, s, samp,\r\n  small, strike, strong, sub, sup, tt, var,\r\n  b, u, i, center,\r\n  dl, dt, dd, ol, ul, li,\r\n  fieldset, form, label, legend,\r\n  table, caption, tbody, tfoot, thead, tr, th, td,\r\n  article, aside, canvas, details, embed, \r\n  figure, figcaption, footer, header, hgroup, \r\n  menu, nav, output, ruby, section, summary,\r\n  time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n  }\r\n  /* HTML5 display-role reset for older browsers */\r\n  article, aside, details, figcaption, figure, \r\n  footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  body {\r\n    line-height: 1;\r\n  }\r\n  html, body {\r\n    background: #f2f3f4;;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after,\r\n  q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    color: #fff;\r\n  }\r\n`","import {createGlobalStyle} from 'styled-components';\r\n\r\nexport const IconStyle = createGlobalStyle`\r\n@font-face {font-family: \"iconfont\";\r\n  src: url('iconfont.eot?t=1565320061289'); /* IE9 */\r\n  src: url('iconfont.eot?t=1565320061289#iefix') format('embedded-opentype'), /* IE6-IE8 */\r\n  url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2'),\r\n  url('iconfont.woff?t=1565320061289') format('woff'),\r\n  url('iconfont.ttf?t=1565320061289') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\r\n  url('iconfont.svg?t=1565320061289#iconfont') format('svg'); /* iOS 4.1- */\r\n}\r\n\r\n.iconfont {\r\n  font-family: \"iconfont\" !important;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n`\r\n","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';\r\n\r\n// 旧状态不改变 用一份新的状态\r\nconst defaultState = fromJS({\r\n  bannerList: [],\r\n  recommendList:[],\r\n  enterLoading: true\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.CHANGE_BANNER:\r\n      return state.set('bannerList', action.data);\r\n    case actionTypes.CHANGE_RECOMMEND_LIST:\r\n      return state.set('recommendList', action.data);\r\n    case actionTypes.CHANGE_ENTER_LOADING:\r\n      return state.set('enterLoading', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n}","import * as actionTypes from './constants';\nimport { fromJS } from 'immutable';\n\nconst defaultState = fromJS({\n  category: \"\",\n  alpha: \"\",\n  singerList: [],\n  enterLoading: true,\n  pullUpLoading: false,\n  pullDownLoading: false,\n  listOffset: 0, // 请求列表的偏移不是page，是个数\n})\n\nexport default (state = defaultState, action) => {\n  switch(action.type) {\n    case actionTypes.CHANGE_ALPHA:\n      return state.merge({\n        'alpha': action.data,\n        listOffset: 0,\n        enterLoading: true\n      });\n    case actionTypes.CHANGE_CATOGORY:\n      return state.merge({\n        'category': action.data,\n        listOffset: 0,\n        enterLoading: true\n      });;\n    case actionTypes.CHANGE_SINGER_LIST:\n      return state.set('singerList', action.data);\n    case actionTypes.CHANGE_LIST_OFFSET:\n      return state.set('listOffset', action.data);\n    case actionTypes.CHANGE_ENTER_LOADING:\n      return state.set('enterLoading', action.data);\n    case actionTypes.CHANGE_PULLUP_LOADING:\n      return state.set('pullUpLoading', action.data);\n    case actionTypes.CHANGE_PULLDOWN_LOADING:\n      return state.set('pullDownLoading', action.data);\n    default:\n      return state;\n  }\n}","import * as actionTypes from './constants';\nimport { fromJS } from 'immutable';\n\nconst defaultState = fromJS ({\n  currentAlbum: {},\n  enterLoading: true,\n})\nexport default (state = defaultState, action) => {\n    switch (action.type) {\n      case actionTypes.CHANGE_CURRENT_ALBUM:\n        return state.set ('currentAlbum', action.data);\n      case actionTypes.CHANGE_ENTER_LOADING:\n        return state.set ('enterLoading', action.data);\n      default:\n        return state;\n    }\n  };","import * as actionTypes from './constants';\nimport { fromJS } from 'immutable';\nimport { playMode } from './../../../api/config';\nimport { findIndex } from '../../../api/utils';\n\nconst defaultState = fromJS({\n  fullScreen: false,\n  playing: false,\n  sequencePlayList: [],\n  playList: [],\n  mode: playMode.sequence,\n  currentIndex: -1,\n  showPlayList: false,\n  currentSong: {},\n  speed: 1\n});\n\nconst handleInsertSong = (state, song) => {\n  const playList = JSON.parse(JSON.stringify(state.get('playList').toJS()));\n  const sequenceList = JSON.parse(JSON.stringify(state.get('sequencePlayList').toJS()));\n  let currentIndex = state.get('currentIndex');\n  //看看有没有同款\n  let fpIndex = findIndex(song, playList);\n  // 如果是当前歌曲直接不处理\n  if(fpIndex === currentIndex && currentIndex !== -1) return state;\n  currentIndex++;\n  // 把歌放进去,放到当前播放曲目的下一个位置\n  playList.splice(currentIndex, 0, song);\n  // 如果列表中已经存在要添加的歌\n  if(fpIndex > -1) {\n    if(currentIndex > fpIndex) {\n      playList.splice(fpIndex, 1);\n      currentIndex--;\n    } else {\n      playList.splice(fpIndex+1, 1);\n    }\n  }\n\n  let sequenceIndex = findIndex(playList[currentIndex], sequenceList) + 1;\n  let fsIndex = findIndex(song, sequenceList);\n  sequenceList.splice(sequenceIndex, 0, song);\n  if(fsIndex > -1) {\n    if(sequenceIndex > fsIndex) {\n      sequenceList.splice(fsIndex, 1);\n      sequenceIndex--;\n    } else {\n      sequenceList.splice(fsIndex + 1, 1);\n    }\n  }\n  return state.merge({\n    'playList': fromJS(playList),\n    'sequencePlayList': fromJS(sequenceList),\n    'currentIndex': fromJS(currentIndex),\n  });\n}\n\nconst handleDeleteSong = (state, song) => {\n  const playList = JSON.parse(JSON.stringify(state.get('playList').toJS()));\n  const sequenceList = JSON.parse(JSON.stringify(state.get('sequencePlayList').toJS()));\n  let currentIndex = state.get('currentIndex');\n\n  const fpIndex = findIndex(song, playList);\n  playList.splice(fpIndex, 1);\n  if(fpIndex < currentIndex) currentIndex--;\n  \n  const fsIndex = findIndex(song, sequenceList);\n  sequenceList.splice(fsIndex, 1);\n\n  return state.merge({\n    'playList': fromJS(playList),\n    'sequencePlayList': fromJS(sequenceList),\n    'currentIndex': fromJS(currentIndex),\n  });\n}\n\n\nexport default (state = defaultState, action) => {\n  switch(action.type) {\n    case actionTypes.SET_CURRENT_SONG:\n      return state.set('currentSong', action.data);\n    case actionTypes.SET_FULL_SCREEN:\n      return state.set('fullScreen', action.data);\n    case actionTypes.SET_PLAYING_STATE:\n      return state.set('playing', action.data);\n    case actionTypes.SET_SEQUECE_PLAYLIST:\n      return state.set('sequencePlayList', action.data);\n    case actionTypes.SET_PLAYLIST:\n      return state.set('playList', action.data);\n    case actionTypes.SET_PLAY_MODE:\n      return state.set('mode', action.data);\n    case actionTypes.SET_CURRENT_INDEX:\n      return state.set('currentIndex', action.data);\n    case actionTypes.SET_SHOW_PLAYLIST:\n      return state.set('showPlayList', action.data);\n    case actionTypes.INSERT_SONG:\n      return handleInsertSong(state, action.data);\n    case actionTypes.DELETE_SONG:\n      return handleDeleteSong(state, action.data);\n    case actionTypes.CHANGE_SPEED:\n      return state.set('speed', action.data);\n    default:\n      return state;\n  }\n}\n","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n  hotList: [],\r\n  suggestList: [],\r\n  songsList: [],\r\n  enterLoading: false\r\n})\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.SET_HOT_KEYWRODS:\r\n      return state.set('hotList', action.data);\r\n    case actionTypes.SET_SUGGEST_LIST:\r\n      return state.set('suggestList', action.data);\r\n    case actionTypes.SET_RESULT_SONGS_LIST:\r\n      return state.set('songsList', action.data);\r\n    case actionTypes.SET_ENTER_LOADING:\r\n      return state.set('enterLoading', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n  artist: {},\r\n  songsOfArtist: [],\r\n  loading: true\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.CHANGE_ARTIST:\r\n      return state.set('artist', action.data);\r\n    case actionTypes.CHANGE_SONGS_OF_ARTIST:\r\n      return state.set('songsOfArtist', action.data);\r\n    case actionTypes.CHANGE_ENTER_LOADING:\r\n      return state.set('loading', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n}","\r\nimport { combineReducers } from 'redux-immutable';\r\nimport { reducer as recommendReducer } from '../application/Recommend/store/index';\r\nimport { reducer as singersReducer } from '../application/Singers/store/index';\r\nimport { reducer as rankReducer } from '../application/Rank/store/index';\r\nimport { reducer as albumReducer } from '../application/Album/store/index';\r\nimport { reducer as playerReducer } from \"../application/Player/store/index\";\r\nimport { reducer as searchReducer } from \"../application/Search/store/index\";\r\nimport { reducer as singerInfoReducer } from \"../application/Singer/store/index\";\r\n\r\nexport default combineReducers({\r\n  recommend: recommendReducer,\r\n  singers: singersReducer,\r\n  rank: rankReducer,\r\n  album: albumReducer,\r\n  player: playerReducer,\r\n  singerInfo: singerInfoReducer,\r\n  search: searchReducer\r\n});","import {createStore, compose, applyMiddleware} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reducer from './reducer' //返回状态的函数\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n// const store = createStore(reducer);\r\nconst store = createStore(reducer, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n  ));\r\n\r\nexport default store;","import styled from \"styled-components\";\nimport style from \"../assets/global-style\";\n\nexport const Top = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background: ${style[\"theme-color\"]};\n  & > span {\n    line-height: 40px;\n    color: #f1f1f1;\n    font-size: 20px;\n    &.iconfont {\n      font-size: 25px;\n    }\n  }\n`;\n\nexport const Tab = styled.div`\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  background: ${style[\"theme-color\"]};\n  a {\n    flex: 1;\n    padding: 2px 0;\n    font-size: 14px;\n    color: #e4e4e4;\n    &.selected {\n      span {\n        padding: 3px 0;\n        font-weight: 700;\n        color: #f1f1f1;\n        border-bottom: 2px solid #f1f1f1;\n      }\n    }\n  }\n`;\n\nexport const TabItem = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`;","import styled from 'styled-components';\nimport style from '../../../assets/global-style';\n\nexport const PlayListWrapper = styled.div `\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 1000;\n  background-color: ${style[\"background-color-shadow\"]};\n  &.list-fade-enter{\n    opacity: 0;\n  }\n  &.list-fade-enter-active{\n    opacity: 1;\n    transition: all 0.3s;\n  }\n  &.list-fade-exit{\n    opacity: 1;\n  }\n  &.list-fade-exit-active{\n    opacity: 0;\n    transition: all 0.3s;\n  }\n  .list_wrapper{\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    opacity: 1;\n    border-radius: 10px 10px 0 0;\n    background-color: ${style[\"highlight-background-color\"]};\n    transform: translate3d(0, 0, 0);\n    .list_close{\n      text-align: center;\n      line-height: 50px;\n      background: ${style[\"background-color\"]};\n      font-size: ${style[\"font-size-l\"]};\n      color: ${style[\"font-color-desc\"]};\n    }\n  }\n`;\nexport const ScrollWrapper = styled.div`\n  height: 400px;\n  overflow: hidden;\n`;\n\nexport const ListHeader = styled.div `\n  position: relative;\n  padding: 20px 30px 10px 20px;\n  .title{\n    display: flex;\n    align-items: center;\n    >div{\n      flex:1;\n      .text{\n        flex: 1;\n        font-size: ${style[\"font-size-m\"]};\n        color: ${style[\"font-color-desc\"]};\n      }\n    }\n    .iconfont {\n      margin-right: 10px;\n      font-size: ${style[\"font-size-ll\"]};\n      color: ${style[\"theme-color\"]};\n    }\n    .clear{\n      ${style.extendClick()}\n      font-size: ${style[\"font-size-l\"]};\n    }\n  }\n`\nexport const ListContent = styled.div `\n  .item{\n    display: flex;\n    align-items: center;\n    height: 40px;\n    padding: 0 30px 0 20px;\n    overflow: hidden;\n    .current{\n      flex: 0 0 20px;\n      width: 20px;\n      font-size: ${style[\"font-size-s\"]};\n      color: ${style[\"theme-color\"]};\n    }\n    .text{\n      flex: 1;\n      ${style.noWrap()}\n      font-size: ${style[\"font-size-m\"]};\n      color: ${style[\"font-color-desc-v2\"]};\n      .icon-favorite{\n        color: ${style[\"theme-color\"]};\n      }\n    }\n    .like{\n      ${style.extendClick()}\n      margin-right: 15px;\n      font-size: ${style[\"font-size-m\"]};\n      color: ${style[\"theme-color\"]};\n    }\n    .delete{\n      ${style.extendClick()}\n      font-size: ${style[\"font-size-s\"]};\n      color: ${style[\"theme-color\"]};\n    }\n  }\n`\n","import React, {forwardRef, useImperativeHandle, useState} from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport styled, {keyframes} from 'styled-components';\nimport style from '../../assets/global-style';\n\n\nconst confirmFadeIn = keyframes`\n  0%{\n    opacity: 0;\n  }\n  100%{\n    opacity: 1;\n  }\n`;\nconst confirmZoom = keyframes`\n  0%{\n    transform: scale(0);\n  }\n  50%{\n    transform: scale(1.1);\n  }\n  100%{\n    transform: scale(1);\n  }\n`\n\nconst ConfirmWrapper = styled.div`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 1000;\n  background: ${style[\"background-color-shadow\"]};\n  &.confirm-fade-enter-active{\n    animation: ${confirmFadeIn} 0.3s;\n    .confirm_content{\n      animation: ${confirmZoom} 0.3s\n    }\n  }\n  >div{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate3d(-50%, -50%, 0);\n    z-index: 100;\n    .confirm_content{\n      width: 270px;\n      border-radius: 13px;\n      background: ${style[\"highlight-background-color\"]};\n      .text{\n        padding: 19px 15px;\n        line-height: 22px;\n        text-align: center;\n        font-size: ${style[\"font-size-l\"]};\n        color: ${style[\"font-color-desc-v2\"]};\n      }\n      .operate{\n        display: flex;\n        align-items: center;\n        text-align: center;\n        font-size: ${style[\"font-size-l\"]};\n        .operate_btn{\n          flex: 1;\n          line-height: 22px;\n          padding: 10px 0;\n          border-top: 1px solid ${style[\"border-color\"]};\n          color: ${style[\"font-color-desc\"]};\n          &.left{\n            border-right: 1px solid ${style[\"border-color\"]};\n          }\n        }\n      }\n    }\n  }\n`\n\nconst Confirm = forwardRef((props, ref) => {\n  const [show, setShow] = useState(false);\n  const { text, cancelBtnText, confirmBtnText } = props;\n\n  const {handleConfirm} = props;\n\n  useImperativeHandle(ref, () => ({\n    show() {\n      setShow(true);\n    }\n  }));\n  // style={{display: show ? \"block\": \"none\"}}\n  return (\n    <CSSTransition classNames=\"confirm-fade\" timeout={300} appear={true} in={show}>\n      <ConfirmWrapper style={{display: show ? \"block\": \"none\"}} onClick={e => e.stopPropagation()}>\n        <div>\n          <div className=\"confirm_content\">\n            <p className=\"text\">{text}</p>\n            <div className=\"operate\" >\n              <div className=\"operate_btn left\" onClick={() => setShow(false)}>{cancelBtnText}</div>\n              <div className=\"operate_btn\" onClick={() => { setShow(false); handleConfirm();}}>{confirmBtnText}</div>\n            </div>\n          </div>\n        </div>\n      </ConfirmWrapper>\n    </CSSTransition>\n  )\n})\n\nexport default React.memo(Confirm);","import { connect } from \"react-redux\";\nimport { PlayListWrapper, ScrollWrapper, ListHeader, ListContent } from './style';\nimport { CSSTransition } from 'react-transition-group';\nimport React, { useRef, useState, useCallback } from 'react';\nimport { prefixStyle, getName, shuffle, findIndex } from './../../../api/utils';\nimport { changeShowPlayList, changeCurrentIndex, changePlayMode, changePlayList, deleteSong,changeSequecePlayList, changeCurrentSong, changePlayingState } from \"../store/actionCreators\";\nimport { playMode } from \"../../../api/config\";\nimport Scroll from '../../../baseUI/scroll';\nimport Confirm from './../../../baseUI/confirm/index';\n//组件内代码\nfunction PlayList(props) {\n  const [canTouch,setCanTouch] = useState(true);\n  // touchStart后记录y值\n  const [startY, setStartY] = useState(0);\n  // touchStart事件是否已经被触发\n  const [initialed, setInitialed] = useState(0);\n  // 用户下滑的距离\n  const [distance, setDistance] = useState(0);\n\n  const {\n    currentIndex,\n    currentSong:immutableCurrentSong,\n    showPlayList,\n    playList:immutablePlayList,\n    mode,\n    sequencePlayList:immutableSequencePlayList\n  } = props;\n  const {\n    togglePlayListDispatch,\n    changeCurrentIndexDispatch,\n    changePlayListDispatch,\n    changeModeDispatch,\n    deleteSongDispatch,\n    clearDispatch \n  } = props;\n  \n  const currentSong = immutableCurrentSong.toJS();\n  const playList = immutablePlayList.toJS();\n  const sequencePlayList = immutableSequencePlayList.toJS();\n\n  const listContentRef = useRef();\n  const confirmRef = useRef();\n  const playListRef = useRef();\n  const listWrapperRef = useRef();\n  const [isShow, setIsShow] = useState(false);\n  const transform = prefixStyle(\"transform\");\n\n  const onEnterCB = useCallback(() => {\n    //让列表显示\n    setIsShow(true);\n    //最开始是隐藏在下面\n    listWrapperRef.current.style[transform] = `translate3d(0, 100%, 0)`;\n  }, [transform]);\n  \n  const onEnteringCB = useCallback(() => {\n    //让列表展现\n    listWrapperRef.current.style[\"transition\"] = \"all 0.3s\";\n    listWrapperRef.current.style[transform] = `translate3d(0, 0, 0)`;\n  }, [transform]);\n  \n  const onExitingCB = useCallback(() => {\n    listWrapperRef.current.style[\"transition\"] = \"all 0.3s\";\n    listWrapperRef.current.style[transform] = `translate3d(0px, 100%, 0px)`;\n  }, [transform]);\n  \n  const onExitedCB = useCallback(() => {\n    setIsShow(false);\n    listWrapperRef.current.style[transform] = `translate3d(0px, 100%, 0px)`;\n  }, [transform]);\n\n  const getCurrentIcon = (item) => {\n    //是不是当前正在播放的歌曲\n    const current = currentSong.id === item.id;\n    const className = current ? 'icon-play' : '';\n    const content = current ? '&#xe6e3;': '';\n    return (\n      <i className={`current iconfont ${className}`} dangerouslySetInnerHTML={{__html:content}}></i>\n    )\n  };\n  \n  const getPlayMode = () => {\n    let content, text;\n    if(mode === playMode.sequence) {\n      content = \"&#xe625;\";\n      text = \"顺序播放\";\n    } else if(mode === playMode.loop) {\n      content = \"&#xe653;\";\n      text = \"单曲循环\";\n    } else {\n      content = \"&#xe61b;\";\n      text = \"随机播放\";\n    }\n    return (\n      <div>\n        <i className=\"iconfont\" onClick={(e) => changeMode(e)}  dangerouslySetInnerHTML={{__html: content}}></i>\n        <span className=\"text\" onClick={(e) => changeMode(e)}>{text}</span>\n      </div>\n    )\n  };\n\n  const changeMode = () => {\n    let newMode = (mode + 1) % 3;\n    if (newMode === 0) {\n      //顺序模式\n      changePlayListDispatch(sequencePlayList);\n      let index = findIndex(currentSong, sequencePlayList);\n      changeCurrentIndexDispatch(index);\n    } else if (newMode === 1) {\n      //单曲循环\n      changePlayListDispatch(sequencePlayList);\n    } else if (newMode === 2) {\n      //随机播放\n      let newList = shuffle(sequencePlayList);\n      let index = findIndex(currentSong, newList);\n      changePlayListDispatch(newList);\n      changeCurrentIndexDispatch(index);\n    }\n    changeModeDispatch(newMode);\n  };\n\n  const handleChangeCurrentIndex = (index) => {\n    if(currentIndex === index) return;\n    changeCurrentIndexDispatch(index);\n  };\n\n  const handleDeleteSong = (e, song) => {\n    e.stopPropagation();\n    deleteSongDispatch(song);\n  };\n\n  const handleShowClear = () => {\n    confirmRef.current.show();\n  };\n\n  const handleConfirmClear = () => {\n    clearDispatch();\n  };\n\n  const handleScroll = (pos) => {\n    //只有当内容偏移量为0的时候才能下滑关闭PlayList。否则一边内容在移动，一边列表在移动，出现bug\n    let state = pos.y === 0;\n    setCanTouch(state);\n  };\n\n  const handleTouchStart = (e) => {\n    if(!canTouch || initialed) return;\n    listWrapperRef.current.style[\"transition\"] = \"\";\n    setStartY(e.nativeEvent.touches[0].pageY);//记录y值\n    setInitialed(true);\n  };\n\n  const handleTouchMove = (e) => {\n    if(!canTouch || !initialed) return;\n    let distance = e.nativeEvent.touches[0].pageY - startY;\n    if(distance < 0) return;\n    setDistance(distance);//记录下滑距离\n    listWrapperRef.current.style.transform = `translate3d(0, ${distance}px, 0)`;\n  };\n\n  const handleTouchEnd = (e) => {\n    setInitialed(false);\n    //这里设置阈值为150px\n    if(distance >= 150) {\n      //大于150px则关闭PlayList\n      togglePlayListDispatch(false);\n    } else {\n      //否则反弹回去\n      listWrapperRef.current.style[\"transition\"] = \"all 0.3s\";\n      listWrapperRef.current.style[transform] = `translate3d(0px, 0px, 0px)`;\n    }\n  };\n\n  return (\n    <CSSTransition \n      in={showPlayList} \n      timeout={300} \n      classNames=\"list-fade\"\n      onEnter={onEnterCB}\n      onEntering={onEnteringCB}\n      onExiting={onExitingCB}\n      onExited={onExitedCB}\n    >\n      <PlayListWrapper \n        ref={playListRef} \n        style={isShow === true ? { display: \"block\" } : { display: \"none\" }} \n        onClick={() => togglePlayListDispatch(false)}\n      >\n        <div \n          className=\"list_wrapper\" \n          ref={listWrapperRef} \n          onClick={e => e.stopPropagation()}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          <ListHeader>\n            <h1 className=\"title\">\n              { getPlayMode() }\n              <span className=\"iconfont clear\" onClick={handleShowClear}>&#xe63d;</span>\n            </h1>\n          </ListHeader>\n          <ScrollWrapper>\n          <Scroll \n            ref={listContentRef} \n            onScroll={pos => handleScroll(pos)}\n            bounceTop={false}\n          >\n              <ListContent>\n                {\n                  playList.map((item, index) => {\n                    return (\n                      <li className=\"item\" key={item.id} onClick={() => handleChangeCurrentIndex(index)}>\n                        { getCurrentIcon(item) }\n                        <span className=\"text\">{item.name} - {getName(item.ar)}</span>\n                        <span className=\"like\">\n                          <i className=\"iconfont\">&#xe601;</i>\n                        </span>\n                        <span className=\"delete\" onClick={(e) => handleDeleteSong(e, item)}>\n                          <i className=\"iconfont\">&#xe63d;</i>\n                        </span>\n                      </li>\n                    )\n                  })\n                }\n              </ListContent>\n            </Scroll>\n          </ScrollWrapper>\n          <Confirm \n            ref={confirmRef}\n            text={\"是否删除全部?\"} \n            cancelBtnText={\"取消\"} \n            confirmBtnText={\"确定\"} \n            handleConfirm={handleConfirmClear}\n          />\n          </div>\n      </PlayListWrapper>\n    </CSSTransition>\n  )\n}\n// 映射Redux全局的state到组件的props上\nconst mapStateToProps = (state) => ({\n  currentIndex: state.getIn(['player', 'currentIndex']),\n  currentSong: state.getIn(['player', 'currentSong']),\n  playList: state.getIn(['player', 'playList']),//播放列表\n  sequencePlayList: state.getIn(['player', 'sequencePlayList']),//顺序排列时的播放列表\n  showPlayList: state.getIn(['player', 'showPlayList']),\n  mode: state.getIn(['player', 'mode'])\n});\n// 映射dispatch到props上\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    togglePlayListDispatch(data) {\n      dispatch(changeShowPlayList(data));\n    },\n    //修改当前歌曲在列表中的index，也就是切歌\n    changeCurrentIndexDispatch(data) {\n      dispatch(changeCurrentIndex(data));\n    },\n    //修改当前的播放模式\n    changeModeDispatch(data) {\n      dispatch(changePlayMode(data));\n    },\n    //修改当前的歌曲列表\n    changePlayListDispatch(data) {\n      dispatch(changePlayList(data));\n    },\n    deleteSongDispatch(data) {\n      dispatch(deleteSong(data));\n    },\n    clearDispatch() {\n      // 1.清空两个列表\n      dispatch(changePlayList([]));\n      dispatch(changeSequecePlayList([]));\n      // 2.初始currentIndex\n      dispatch(changeCurrentIndex(-1));\n      // 3.关闭PlayList的显示\n      dispatch(changeShowPlayList(false));\n      // 4.将当前歌曲置空\n      dispatch(changeCurrentSong({}));\n      // 5.重置播放状态\n      dispatch(changePlayingState(false));\n    }\n  }\n};\n// 将ui组件包装成容器组件\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(PlayList));","import React, {useState, useImperativeHandle, forwardRef} from 'react';\nimport styled from 'styled-components';\nimport { CSSTransition } from 'react-transition-group';\nimport style from '../../assets/global-style';\n\nconst ToastWrapper = styled.div`\n  position: fixed;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 50px;\n  /* background: ${style[\"highlight-background-color\"]}; */\n  &.drop-enter{\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n  &.drop-enter-active{\n    opacity: 1;\n    transition: all 0.3s;\n    transform: translate3d(0, 0, 0);\n  }\n  &.drop-exit-active{\n    opacity: 0;\n    transition: all 0.3s;\n    transform: translate3d(0, 100%, 0);\n  }\n  .text{\n    line-height: 50px;\n    text-align: center;\n    color: #fff;\n    font-size: ${style[\"font-size-l\"]};\n  }\n`\n\nconst Toast = forwardRef((props, ref) => {\n  const [show, setShow] = useState(false);\n  const [timer, setTimer] = useState('');\n  const {text} = props;\n\n  useImperativeHandle(ref, () => ({\n    show() {\n      if(timer) clearTimeout(timer);\n      setShow(true);\n      setTimer(setTimeout(() => {\n        setShow(false)\n      }, 3000));\n    }\n  }))\n  return (\n    <CSSTransition in={show} timeout={300} classNames=\"drop\" unmountOnExit>\n      <ToastWrapper>\n        <div className=\"text\">{text}</div>\n      </ToastWrapper>\n    </CSSTransition>\n  )\n});\n\nexport default React.memo(Toast);","//解析[00:01.997]这一类时间戳的正则表达式\nconst timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g\n\nconst STATE_PAUSE = 0\nconst STATE_PLAYING = 1\nexport default class Lyric {\n  /**\n   * @params {string} lrc\n   * @params {function} handler\n  */\n  constructor(lrc, hanlder = () => { }) {\n    this.lrc = lrc;\n    this.lines = [];//这是解析后的数组，每一项包含对应的歌词和时间\n    this.handler = hanlder;//回调函数\n    this.state = STATE_PAUSE;//播放状态\n    this.curLineIndex = 0;//当前播放歌词所在的行数\n    this.startStamp = 0;//歌曲开始的时间戳\n\n    this._initLines();\n  }\n\n  _initLines() {\n    //解析代码\n    const lines = this.lrc.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i];//如\"[00:01.997]作词: 薛之谦\"\n      let result = timeExp.exec(line);\n      if (!result) continue;\n      const txt = line.replace(timeExp, '').trim();//现在把时间戳去掉，只剩下歌词文本\n      if (txt) {\n        if (result[3].length === 3) {\n          result[3] = result[3] / 10;//[00:01.997]中匹配到的997就会被切成99\n        }\n        this.lines.push({\n          time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10,//转化具体到毫秒的时间，result[3] * 10可理解为 (result / 100) * 1000\n          txt\n        });\n      }\n    }\n    this.lines.sort((a, b) => {\n      return a.time - b.time;\n    });//根据时间排序\n  }\n  //offset为时间进度，isSeek标志位表示用户是否手动调整进度\n  play(offset = 0, isSeek = false) {\n    if (!this.lines.length) {\n      return;\n    }\n    this.state = STATE_PLAYING;\n    //找到当前所在的行\n    this.curLineIndex = this._findcurLineIndex(offset);\n    //现在正处于第this.curLineIndex-1行\n    //立即定位，方式是调用传来的回调函数，并把当前歌词信息传给它\n    this._callHandler(this.curLineIndex - 1);\n    //根据时间进度判断歌曲开始的时间戳\n    this.startStamp = +new Date() - offset;\n\n    if (this.curLineIndex < this.lines.length) {\n      clearTimeout(this.timer);\n      //继续播放\n      this._playRest(isSeek);\n    }\n  }\n  togglePlay(offset) {\n    if (this.state === STATE_PLAYING) {\n      this.stop()\n    } else {\n      this.state = STATE_PLAYING\n      this.play(offset, true)\n    }\n  }\n  \n  stop() {\n    this.state = STATE_PAUSE\n    clearTimeout(this.timer)\n  }\n  seek(offset) {\n    this.play(offset, true)\n  }\n\n  _findcurLineIndex(time) {\n    for (let i = 0; i < this.lines.length; i++) {\n      if (time <= this.lines[i].time) {\n        return i\n      }\n    }\n    return this.lines.length - 1\n  }\n\n  _callHandler(i) {\n    if (i < 0) {\n      return\n    }\n    this.handler({\n      txt: this.lines[i].txt,\n      lineNum: i\n    })\n  }\n  // isSeek标志位表示用户是否手动调整进度\n  _playRest(isSeek = false) {\n    let line = this.lines[this.curLineIndex];\n    let delay;\n    if (isSeek) {\n      delay = line.time - (+new Date() - this.startStamp);\n    } else {\n      //拿到上一行的歌词开始时间，算间隔\n      let preTime = this.lines[this.curLineIndex - 1] ? this.lines[this.curLineIndex - 1].time : 0;\n      delay = line.time - preTime;\n    }\n    this.timer = setTimeout(() => {\n      this._callHandler(this.curLineIndex++);\n      if (this.curLineIndex < this.lines.length && this.state === STATE_PLAYING) {\n        this._playRest();\n      }\n    }, delay)\n  }\n}","import React from 'react';\nimport styled from 'styled-components';\nimport style from '../../assets/global-style';\n\nconst CircleWrapper = styled.div`\n  position: relative;\n  circle{\n    stroke-width: 8px;\n    transform-origin: center;\n    &.progress-background{\n      transform: scale(0.9);\n      stroke: ${style[\"theme-color-shadow\"]};\n    }\n    &.progress-bar{\n      transform: scale(0.9) rotate(-90deg);\n      stroke: ${style[\"theme-color\"]};\n    }\n  }\n`\n\nfunction ProgressCircle(props) {\n  const {radius, percent} = props;\n  //整个背景的周长\n  const dashArray = Math.PI * 100;\n  //没有高亮的部分，剩下高亮的就是进度\n  const dashOffset = (1 - percent) * dashArray;\n\n  return (\n    <CircleWrapper>\n      <svg width={radius} height={radius} viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle className=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"/>\n        <circle className=\"progress-bar\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\" \n                strokeDasharray={dashArray}\n                strokeDashoffset={dashOffset}/>\n      </svg>\n      {props.children}\n    </CircleWrapper>\n  )\n}\n\nexport default React.memo(ProgressCircle);","import styled, {keyframes} from 'styled-components';\nimport style from '../../../assets/global-style';\n\nconst rotate = keyframes`\n  0%{\n    transform: rotate(0);\n  }\n  100%{\n    transform: rotate(360deg);\n  }\n`\n\nexport const MiniPlayerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 60px;\n  background: ${style[\"highlight-background-color\"]};\n  &.mini-enter{\n    transform: translate3d(0, 100%, 0);\n  }\n  &.mini-enter-active{\n    transform: translate3d(0, 0, 0);\n    transition: all 0.4s;\n  }\n  &.mini-exit-active{\n    transform: translate3d(0, 100%, 0);\n    transition: all .4s\n  }\n  .icon{\n    flex: 0 0 40px;\n    width: 40px;\n    height: 40px;\n    padding: 0 10px 0 20px;\n    .imgWrapper{\n      width: 100%;\n      height: 100%;\n      img{\n        border-radius: 50%;\n        &.play{\n          animation: ${rotate} 10s infinite;\n          &.pause{\n            animation-play-state: paused;\n          }\n        }\n      }\n    }\n  }\n  .text{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    flex: 1;\n    line-height: 20px;\n    overflow: hidden;\n    .name{\n      margin-bottom: 2px;\n      font-size: ${style[\"font-size-m\"]};\n      color: ${style[\"font-color-desc\"]};\n      ${style.noWrap()}\n    }\n    .desc {\n      font-size: ${style[\"font-size-s\"]};\n      color: ${style[\"font-color-desc-v2\"]};\n      ${style.noWrap()}\n    }\n  }\n  .control{\n    flex: 0 0 30px;\n    padding: 0 10px;\n    .iconfont, .icon-playlist{\n      font-size: 30px;\n      color: ${style[\"theme-color\"]};\n    }\n    .icon-mini{\n      font-size: 16px;\n      position: absolute;\n      left: 8px;\n      top: 8px;\n      &.icon-play{\n        left: 9px\n      }\n    }\n  }\n`","import React, {useRef} from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport ProgressCircle from '../../../baseUI/progress-circle';\nimport { getName } from '../../../api/utils';\nimport { MiniPlayerContainer } from './style';\nimport { useCallback } from 'react';\n\n\nfunction MiniPlayer(props) {\n  const { full, song, playing, percent } = props;\n  const { clickPlaying, setFullScreen, togglePlayList } = props;\n\n  const miniPlayerRef = useRef();\n  const miniWrapperRef = useRef();\n  const miniImageRef = useRef();\n\n  const handleTogglePlayList = useCallback((e) => {\n    togglePlayList(true);\n    e.stopPropagation();\n  }, [togglePlayList]);\n\n  return (\n    <CSSTransition \n      in={!full} \n      timeout={400} \n      classNames=\"mini\" \n      onEnter={() => {\n        miniPlayerRef.current.style.display = \"flex\";\n      }}\n      onExited={() => {\n        miniPlayerRef.current.style.display = \"none\";\n      }}\n    >\n      <MiniPlayerContainer ref={miniPlayerRef} onClick={() => setFullScreen(true)}>\n        <div className=\"icon\">\n          <div className=\"imgWrapper\" ref={miniWrapperRef}>\n            <img className={`play ${playing ? \"\": \"pause\"}`} ref={miniImageRef} src={song.al.picUrl} width=\"40\" height=\"40\" alt=\"img\"/>\n          </div>\n        </div>\n        <div className=\"text\">\n          <h2 className=\"name\">{song.name}</h2>\n          <p className=\"desc\">{getName(song.ar)}</p>\n        </div>\n        <div className=\"control\">\n          <ProgressCircle radius={32} percent={percent}>\n            { playing ? \n              <i className=\"icon-mini iconfont icon-pause\" onClick={e => clickPlaying(e, false)}>&#xe650;</i>\n              :\n              <i className=\"icon-mini iconfont icon-play\" onClick={e => clickPlaying(e, true)}>&#xe61e;</i> \n            }\n          </ProgressCircle>\n        </div>\n        <div className=\"control\" onClick={handleTogglePlayList}>\n          <i className=\"iconfont\">&#xe640;</i>\n        </div>\n      </MiniPlayerContainer>\n    </CSSTransition>\n  )\n}\n\nexport default React.memo(MiniPlayer);","import React, {useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport style from '../../assets/global-style';\nimport { prefixStyle } from './../../api/utils';\n\nconst ProgressBarWrapper = styled.div`\n  height: 30px;\n  .bar-inner{\n    position: relative;\n    top: 13px;\n    height: 4px;\n    background: rgba(0, 0, 0, .3);\n    .progress{\n      position: absolute;\n      height: 100%;\n      background: ${style[\"theme-color\"]};\n    }\n    .progress-btn-wrapper{\n      position: absolute;\n      left: -8px;\n      top: -13px;\n      width: 30px;\n      height: 30px;\n      .progress-btn{\n        position: relative;\n        top: 7px;\n        left: 7px;\n        box-sizing: border-box;\n        width: 16px;\n        height: 16px;\n        border: 3px solid ${style[\"border-color\"]};\n        border-radius: 50%;\n        background: ${style[\"theme-color\"]};\n      }\n    }\n  }\n`\n\nfunction ProgressBar(props) {\n  const progressBar = useRef();\n  const progress = useRef();\n  const progressBtn = useRef();\n  const [touch, setTouch] = useState({});\n\n  const { percent } = props;\n\n  const { percentChange } = props;\n\n  const progressBtnWidth = 16;  \n  \n  const transform = prefixStyle('transform');\n\n  useEffect(() => {\n    if(percent >= 0 && percent <= 1 && !touch.initiated) {\n      const barWidth = progressBar.current.clientWidth - progressBtnWidth;\n      const offsetWidth = percent * barWidth;\n      progress.current.style.width = `${offsetWidth}px`;\n      progressBtn.current.style[transform] = `translate3d(${offsetWidth}px, 0, 0)`;\n    }\n    // eslint-disable-next-line\n  }, [percent]);\n\n  const _changePercent = () => {\n    const barWidth = progressBar.current.clientWidth - progressBtnWidth;\n    const curPercent = progress.current.clientWidth / barWidth;\n    percentChange(curPercent);\n  }\n\n  const _offset = (offsetWidth) => {\n    progress.current.style.width = `${offsetWidth}px`;\n    progressBtn.current.style.transform = `translate3d(${offsetWidth}px, 0, 0)`;\n  };\n\n  const progressClick = (e) => {\n    const rect = progressBar.current.getBoundingClientRect();\n    const offsetWidth = e.pageX - rect.left;\n    _offset(offsetWidth);\n    _changePercent();\n  };\n\n  const progressTouchStart = (e) => {\n    const startTouch = {};\n    //initial为true表示滑动动作开始了\n    startTouch.initiated = true;\n    startTouch.startX = e.touches[0].pageX;\n    startTouch.left = progress.current.clientWidth;\n    setTouch(startTouch);\n  };\n  \n  const progressTouchMove = (e) => {\n    if(!touch.initiated) return;\n    //滑动距离   \n    const deltaX = e.touches[0].pageX - touch.startX;\n    const barWidth = progressBar.current.clientWidth - progressBtnWidth; \n    const offsetWidth = Math.min(Math.max(0, touch.left + deltaX), barWidth);\n    _offset(offsetWidth);\n  };\n  \n  const progressTouchEnd = (e) => {\n    const endTouch = JSON.parse(JSON.stringify(touch));\n    endTouch.initiated = false;\n    setTouch(endTouch);\n    _changePercent();\n  };\n\n  return (\n    <ProgressBarWrapper>\n      <div className=\"bar-inner\" ref={progressBar} onClick={progressClick} >\n        <div className=\"progress\" ref={progress}></div>\n        <div className=\"progress-btn-wrapper\" ref={progressBtn}\n            onTouchStart={progressTouchStart}\n            onTouchMove={progressTouchMove}\n            onTouchEnd={progressTouchEnd}\n        >\n          <div className=\"progress-btn\"></div>\n        </div>\n      </div>\n    </ProgressBarWrapper>\n  )\n}\n\nexport default ProgressBar;","import styled, { keyframes } from \"styled-components\";\nimport style from \"../../../assets/global-style\";\nimport disc from './disc.png';\nimport needle from './needle.png';\n\nconst rotate = keyframes`\n  0%{\n    transform: rotate(0);\n  }\n  100%{\n    transform: rotate(360deg);\n  }\n`;\nexport const NormalPlayerContainer = styled.div`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 150;\n  background: ${style[\"background-color\"]};\n  .background {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: -1;\n    opacity: 0.6;\n    filter: blur(20px);\n    &.layer {\n      background: ${style[\"font-color-desc\"]};\n      opacity: 0.3;\n      filter: none;\n    }\n  }\n  &.normal-enter,\n  &.normal-exit-done {\n    .top {\n      transform: translate3d(0, -100px, 0);\n    }\n    .bottom {\n      transform: translate3d(0, 100px, 0);\n    }\n  }\n  &.normal-enter-active,\n  &.normal-exit-active {\n    .top,\n    .bottom {\n      transform: translate3d(0, 0, 0);\n      transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\n    }\n    opacity: 1;\n    transition: all 0.4s;\n  }\n  &.normal-exit-active {\n    opacity: 0;\n  }\n`;\nexport const Top = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n  border-bottom: 1px solid ${style[\"border-color-v2\"]};\n  padding-bottom: 5px;\n  width: 100%;\n  height: 8%;\n  .back {\n    margin-left: 5px;\n    z-index: 50;\n    .iconfont {\n      display: block;\n      padding: 9px;\n      font-size: 24px;\n      color: ${style[\"font-color-desc\"]};\n      font-weight: bold;\n      transform: rotate(90deg);\n    }\n  }\n  .text{\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    margin-top: 10px;\n  }\n  .title {\n    line-height: 25px;\n    font-size: ${style[\"font-size-l\"]};\n    color: ${style[\"font-color-desc\"]};\n    ${style.noWrap()};\n  }\n  .subtitle {\n    line-height: 20px;\n    font-size: ${style[\"font-size-m\"]};\n    color: ${style[\"font-color-desc-v2\"]};\n    ${style.noWrap()};\n  }\n`;\nexport const Middle = styled.div`\n  position: fixed;\n  width: 100%;\n  top: 8%;\n  bottom: 170px;\n  white-space: nowrap;\n  font-size: 0;\n  overflow: hidden;\n  .fade-enter {\n    opacity: 0;\n  }\n  .fade-enter-active {\n    opacity: 1;\n    transition: all 0.4s;\n  }\n  .fade-enter-done {\n    transition: none;\n  }\n  .fade-exit-active {\n    opacity: 0;\n  }\n  .fade-exit-done {\n    opacity: 0;\n  }\n`;\nexport const CDWrapper = styled.div`\n  margin: auto;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  .needle{\n    position: absolute;\n    top: -6.67vw;\n    left: 48vw;\n    width: 25vw;\n    height: 40vw;\n    z-index: 100;\n    background-image: url(${needle});\n    ${style.bgFull()};\n    transform-origin: 4.5vw 4.5vw;\n    transition: all 0.3s;\n    transform: rotate(0);\n    &.pause{\n      transform: rotate(-30deg);\n    }\n  }\n  .cd {\n    top: 16%;\n    position: absolute;\n    width: 70%;\n    height: 70vw;\n    background-image: url(${disc});\n    border: 4px solid ${style[\"border-color-v2\"]};\n    border-radius: 50%;\n    ${style.bgFull()};\n    .image {\n      position: absolute;\n      left: 0;right: 0;\n      top: 0;bottom: 0;\n      width: 68%;\n      height: 68%;\n      margin: auto;\n      border-radius: 50%;\n    }\n    .play {\n      animation: ${rotate} 20s linear infinite;\n      &.pause{\n        animation-play-state: paused;\n      }\n    }\n  }\n  .playing_lyric {\n    position: absolute;\n    margin: auto;\n    width: 80%;\n    top: 95vw;\n    font-size: 14px;\n    line-height: 20px;\n    white-space: normal;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.5);\n  }\n`;\nexport const LyricContainer = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  /* 遮罩 会有模糊效果，看个人喜欢*/\n  /* mask-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,hsla(0,0%,100%,0)),color-stop(10%,hsla(0,0%,100%,.6)),color-stop(25%,#fff),color-stop(75%,#fff),color-stop(85%,hsla(0,0%,100%,.6)),to(hsla(0,0%,100%,0)));\n  mask-image: linear-gradient(linear,left top,left bottom,color-stop(0,hsla(0,0%,100%,0)),color-stop(10%,hsla(0,0%,100%,.6)),color-stop(25%,#fff),color-stop(75%,#fff),color-stop(85%,hsla(0,0%,100%,.6)),to(hsla(0,0%,100%,0))); */\n`;\nexport const LyricWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  width: 100%;\n  box-sizing: border-box;\n  text-align: center;\n  p {\n    line-height: 32px;\n    color: rgba(255, 255, 255, 0.5);\n    white-space: normal;\n    font-size: ${style[\"font-size-l\"]};\n    &.current {\n      color: #fff;\n    }\n    &.pure{\n      position: relative;\n      top: 30vh;\n    }\n  }\n`;\nexport const Bottom = styled.div`\n  position: absolute;\n  bottom: 50px;\n  width: 100%;\n`;\nexport const ProgressWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  width: 80%;\n  margin: 0px auto;\n  padding: 10px 0;\n  .time {\n    color: ${style[\"font-color-desc\"]};\n    font-size: ${style[\"font-size-s\"]};\n    flex: 0 0 30px;\n    line-height: 30px;\n    width: 30px;\n    &.time-l {\n      text-align: left;\n    }\n    &.time-r {\n      text-align: right;\n    }\n  }\n  .progress-bar-wrapper {\n    flex: 1;\n  }\n`;\nexport const Operators = styled.div`\n  display: flex;\n  align-items: center;\n  .icon {\n    font-weight: 300;\n    flex: 1;\n    color: ${style[\"font-color-desc\"]};\n    &.disable {\n      color: ${style[\"theme-color-shadow\"]};\n    }\n    i {\n      font-weight: 300;\n      font-size: 30px;\n    }\n  }\n  .i-left {\n    text-align: right;\n  }\n  .i-center {\n    padding: 0 20px;\n    text-align: center;\n    i {\n      font-size: 40px;\n    }\n  }\n  .i-right {\n    text-align: left;\n  }\n  .icon-favorite {\n    color: ${style[\"theme-color\"]};\n  }\n`;\n\nexport const List = styled.div`\n  width: 70%;\n  margin: auto;\n  display: flex;\n  align-items: center;\n  height: 30px;\n  justify-content: space-around;\n  overflow: hidden;\n  >span:first-of-type{\n    display: block;\n    flex: 0 0 auto;\n    padding: 5px 0;\n    color: ${style[\"font-color-desc-v2\"]};\n    font-size: ${style[\"font-size-m\"]};\n    vertical-align: middle;\n  }\n`\nexport const ListItem = styled.span`\n  flex: 0 0 auto;\n  font-size: ${style[\"font-size-m\"]};\n  padding: 5px 5px;\n  border-radius: 10px;\n  color: ${style[\"font-color-desc-v2\"]};\n  &.selected{\n    color: ${style[\"theme-color\"]};\n    border: 1px solid ${style[\"theme-color\"]};\n    opacity: 0.8;\n  }\n`","import React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport animations from \"create-keyframe-animation\";\nimport ProgressBar from \"../../../baseUI/progress-bar/index\";\nimport Scroll from \"../../../baseUI/scroll/index\";\nimport { playMode, list } from \"../../../api/config\";\nimport { prefixStyle, formatPlayTime, getName } from \"../../../api/utils\";\nimport {\n  NormalPlayerContainer,\n  Top,\n  Middle,\n  Bottom,\n  ProgressWrapper,\n  Operators,\n  CDWrapper,\n  LyricContainer,\n  LyricWrapper,\n  List,\n  ListItem\n} from \"./style\";\n\nfunction NormalPlayer(props) {\n  const {\n    full,\n    song,\n    mode,\n    playing,\n    percent,\n    currentTime,\n    duration,\n    currentLineNum,\n    currentPlayingLyric,\n    currentLyric,\n    speed\n  } = props;\n  const {\n    changeMode,\n    handlePrev,\n    handleNext,\n    onProgressChange,\n    clickPlaying,\n    toggleFullScreenDispatch,\n    togglePlayListDispatch,\n    clickSpeed\n  } = props;\n  //处理transform的浏览器兼容问题\n  const transform = prefixStyle(\"transform\");\n\n  const normalPlayerRef = useRef();\n  const lyricScrollRef = useRef();\n\n  const lyricLineRefs = useRef([]);\n  const cdWrapperRef = useRef();\n  const [currentState, setCurrentState] = useState(0);\n\n  useEffect(() => {\n    if (!lyricScrollRef.current) return;\n    let bScroll = lyricScrollRef.current.getBScroll();\n    if (currentLineNum > 5) {\n      let lineEl = lyricLineRefs.current[currentLineNum - 5].current;\n      bScroll.scrollToElement(lineEl, 1000);\n    } else {\n      bScroll.scrollTo(0, 0, 1000);\n    }\n  }, [currentLineNum]);\n\n  const getPlayMode = () => {\n    let content;\n    if (mode === playMode.sequence) {\n      content = \"&#xe625;\";\n    } else if (mode === playMode.loop) {\n      content = \"&#xe653;\";\n    } else {\n      content = \"&#xe61b;\";\n    }\n    return content;\n  };\n\n  const _getPosAndScale = () => {\n    const targetWidth = 40;\n    const paddingLeft = 40;\n    const paddingBottom = 30;\n    const paddingTop = 80;\n    const width = window.innerWidth * 0.8;\n    const scale = targetWidth / width;\n    // 两个圆心的横坐标距离和纵坐标距离\n    const x = -(window.innerWidth / 2 - paddingLeft);\n    const y = window.innerHeight - paddingTop - width / 2 - paddingBottom;\n    return {\n      x,\n      y,\n      scale\n    };\n  };\n\n  const enter = () => {\n    normalPlayerRef.current.style.display = \"block\";\n    const { x, y, scale } = _getPosAndScale();\n    let animation = {\n      0: {\n        transform: `translate3d(${x}px,${y}px,0) scale(${scale})`\n      },\n      60: {\n        transform: `translate3d(0, 0, 0) scale(1.1)`\n      },\n      100: {\n        transform: `translate3d(0, 0, 0) scale(1)`\n      }\n    };\n    animations.registerAnimation({\n      name: \"move\",\n      animation,\n      presets: {\n        duration: 400,\n        easing: \"linear\"\n      }\n    });\n    animations.runAnimation(cdWrapperRef.current, \"move\");\n  };\n\n  const afterEnter = () => {\n    const cdWrapperDom = cdWrapperRef.current;\n    animations.unregisterAnimation(\"move\");\n    cdWrapperDom.style.animation = \"\";\n  };\n\n  const leave = () => {\n    if (!cdWrapperRef.current) return;\n    const cdWrapperDom = cdWrapperRef.current;\n    cdWrapperDom.style.transition = \"all 0.4s\";\n    const { x, y, scale } = _getPosAndScale();\n    cdWrapperDom.style[transform] = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n  };\n\n  const afterLeave = () => {\n    if (!cdWrapperRef.current) return;\n    const cdWrapperDom = cdWrapperRef.current;\n    cdWrapperDom.style.transition = \"\";\n    cdWrapperDom.style[transform] = \"\";\n    normalPlayerRef.current.style.display = \"none\";\n    setCurrentState(\"\");\n  };\n\n  const toggleCurrentState = () => {\n    let nextState = \"\";\n    if (currentState !== \"lyric\") {\n      nextState = \"lyric\";\n    } else {\n      nextState = \"\";\n    }\n    setCurrentState(nextState);\n  };\n\n  const clickPlayingCB = useCallback((e) => {\n    clickPlaying(e, !playing);\n  }, [clickPlaying, playing]);\n\n  return (\n    <CSSTransition\n      classNames=\"normal\"\n      in={full}\n      timeout={400}\n      mountOnEnter\n      onEnter={enter}\n      onEntered={afterEnter}\n      onExit={leave}\n      onExited={afterLeave}\n    >\n      <NormalPlayerContainer ref={normalPlayerRef}>\n        <div className=\"background\">\n          <img\n            src={song.al.picUrl + \"?param=300x300\"}\n            width=\"100%\"\n            height=\"100%\"\n            alt=\"歌曲图片\"\n          />\n        </div>\n        <div className=\"background layer\"></div>\n        <Top className=\"top\">\n          <div className=\"back\" onClick={() => toggleFullScreenDispatch(false)}>\n            <i className=\"iconfont icon-back\">&#xe662;</i>\n          </div>\n          <div className=\"text\">\n            <h1 className=\"title\">{song.name}</h1>\n            <h1 className=\"subtitle\">{getName(song.ar)}</h1>\n          </div>\n        </Top>\n        <Middle ref={cdWrapperRef} onClick={toggleCurrentState}>\n          <CSSTransition\n            timeout={400}\n            classNames=\"fade\"\n            in={currentState !== \"lyric\"}\n          >\n            <CDWrapper\n              style={{\n                visibility:\n                  currentState !== \"lyric\" ? \"visible\" : \"hidden\"\n              }}\n              playing={playing}\n            >\n              <div className={`needle ${playing? '' : 'pause'}`}></div>\n              <div className=\"cd\">\n                <img\n                  className={`image play ${playing? '' : 'pause'}`}\n                  src={song.al.picUrl + \"?param=400x400\"}\n                  alt=\"\"\n                />\n              </div>\n              {/* <CD playing={playing} image={song.al.picUrl + \"?param=300x300\"}></CD> */}\n              <p className=\"playing_lyric\">{currentPlayingLyric}</p>\n            </CDWrapper>\n          </CSSTransition>\n          <CSSTransition\n            timeout={400}\n            classNames=\"fade\"\n            in={currentState === \"lyric\"}\n          >\n            <LyricContainer>\n              <Scroll ref={lyricScrollRef}>\n                <LyricWrapper\n                  style={{\n                    visibility:\n                      currentState === \"lyric\" ? \"visible\" : \"hidden\"\n                  }}\n                  className=\"lyric_wrapper\"\n                >\n                  {\n                    currentLyric\n                      ? currentLyric.lines.map((item, index) => {\n                      lyricLineRefs.current[index] = React.createRef();\n                      return (\n                        <p\n                          className={`text ${\n                            currentLineNum === index ? \"current\" : \"\"\n                          }`}\n                          key={item + index}\n                          ref={lyricLineRefs.current[index]}\n                        >\n                          {item.txt}\n                        </p>\n                      );\n                    })\n                  : <p className=\"text pure\">纯音乐，请欣赏。</p>}\n                </LyricWrapper>\n              </Scroll>\n            </LyricContainer>\n          </CSSTransition>\n        </Middle>\n        <Bottom className=\"bottom\">\n          <List>\n            <span>倍速听歌</span>\n            {\n              list.map((item) => {\n                return (\n                  <ListItem \n                    key={item.key}\n                    className={`${speed === item.key ? 'selected': ''}`} \n                    onClick={() => clickSpeed(item.key)}>\n                      {item.name}\n                  </ListItem>\n                )\n              })\n            }\n          </List>\n          <ProgressWrapper>\n            <span className=\"time time-l\">{formatPlayTime(currentTime)}</span>\n            <div className=\"progress-bar-wrapper\">\n              <ProgressBar\n                percent={percent}\n                percentChange={onProgressChange}\n              ></ProgressBar>\n            </div>\n            <div className=\"time time-r\">{formatPlayTime(duration)}</div>\n          </ProgressWrapper>\n          <Operators>\n            <div className=\"icon i-left\" onClick={changeMode}>\n              <i\n                className=\"iconfont\"\n                dangerouslySetInnerHTML={{ __html: getPlayMode() }}\n              ></i>\n            </div>\n            <div className=\"icon i-left\" onClick={handlePrev}>\n              <i className=\"iconfont\">&#xe6e1;</i>\n            </div>\n            <div className=\"icon i-center\">\n              <i\n                className=\"iconfont\"\n                onClick={clickPlayingCB}\n                dangerouslySetInnerHTML={{\n                  __html: playing ? \"&#xe723;\" : \"&#xe731;\"\n                }}\n              ></i>\n            </div>\n            <div className=\"icon i-right\" onClick={handleNext}>\n              <i className=\"iconfont\">&#xe718;</i>\n            </div>\n            <div\n              className=\"icon i-right\"\n              onClick={() => togglePlayListDispatch(true)}\n            >\n              <i className=\"iconfont\">&#xe640;</i>\n            </div>\n          </Operators>\n        </Bottom>\n      </NormalPlayerContainer>\n    </CSSTransition>\n  );\n}\n\nexport default React.memo(NormalPlayer);","import React, { useRef, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  changePlayingState,\n  changeShowPlayList,\n  changeCurrentIndex,\n  changeCurrentSong,\n  changePlayList,\n  changePlayMode,\n  changeFullScreen,\n  changeSpeed\n} from \"./store/actionCreators\";\nimport { isEmptyObject, shuffle, findIndex, getSongUrl } from \"../../api/utils\";\nimport PlayList from \"./play-list/index\";\nimport Toast from \"./../../baseUI/toast/index\";\nimport Lyric from \"../../api/lyric-parser\";\nimport MiniPlayer from \"./mini-player\";\nimport NormalPlayer from \"./normal-player\";\nimport { playMode } from \"./../../api/config\";\nimport { getLyricRequest } from \"./../../api/request\";\n\nfunction Player(props) {\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [currentPlayingLyric, setPlayingLyric] = useState(\"\");\n  const [modeText, setModeText] = useState(\"\");\n\n  let percent = isNaN(currentTime / duration) ? 0 : currentTime / duration;\n\n  const {\n    speed,\n    playing,\n    currentSong:immutableCurrentSong,\n    currentIndex,\n    playList:immutablePlayList,\n    mode,\n    sequencePlayList: immutableSequencePlayList,\n    fullScreen\n  } = props;\n\n  const {\n    togglePlayingDispatch,\n    togglePlayListDispatch,\n    changeCurrentIndexDispatch,\n    changeCurrentDispatch,\n    changePlayListDispatch,\n    changeModeDispatch,\n    toggleFullScreenDispatch,\n    changeSpeedDispatch\n  } = props;\n\n  const playList = immutablePlayList.toJS();\n  const sequencePlayList = immutableSequencePlayList.toJS();\n  const currentSong = immutableCurrentSong.toJS();\n\n  const [preSong, setPreSong] = useState({});\n\n  const audioRef = useRef();\n  const toastRef = useRef();\n\n  const currentLyric = useRef();\n  const currentLineNum = useRef(0);\n  const songReady = useRef(true);\n \n  useEffect(() => {\n    if (\n      !playList.length ||\n      currentIndex === -1 ||\n      !playList[currentIndex] ||\n      playList[currentIndex].id === preSong.id ||\n      !songReady.current\n    )\n    return;\n    songReady.current = false;\n    let current = playList[currentIndex];\n    changeCurrentDispatch(current);\n    setPreSong(current);\n    setPlayingLyric(\"\");\n    audioRef.current.src = getSongUrl(current.id);\n    audioRef.current.autoplay = true;\n    audioRef.current.playbackRate = speed;\n    togglePlayingDispatch(true);\n    getLyric(current.id);\n    setCurrentTime(0);\n    setDuration((current.dt / 1000) | 0);\n    // eslint-disable-next-line\n  }, [currentIndex, playList]);\n\n  useEffect(() => {\n    playing ? audioRef.current.play() : audioRef.current.pause();\n  }, [playing]);\n\n  useEffect(() => {\n    if (!fullScreen) return;\n    if (currentLyric.current && currentLyric.current.lines.length) {\n      handleLyric({\n        lineNum: currentLineNum.current,\n        txt: currentLyric.current.lines[currentLineNum.current].txt\n      });\n    }\n  }, [fullScreen]);\n\n  const handleLyric = ({ lineNum, txt }) => {\n    if(!currentLyric.current)return;\n    currentLineNum.current = lineNum;\n    setPlayingLyric(txt);\n  };\n\n  const getLyric = id => {\n    let lyric = \"\";\n    if (currentLyric.current) {\n      currentLyric.current.stop();\n    }\n    // 避免songReady恒为false的情况\n    setTimeout(() => {\n      songReady.current = true;\n    }, 3000);\n    getLyricRequest(id)\n      .then(data => {\n        lyric = data.lrc && data.lrc.lyric;\n        if(!lyric) {\n          currentLyric.current = null;\n          return;\n        }\n        currentLyric.current = new Lyric(lyric, handleLyric, speed);\n        currentLyric.current.play();\n        currentLineNum.current = 0;\n        currentLyric.current.seek(0);\n      })\n      .catch(() => {\n        currentLyric.current = \"\";\n        songReady.current = true;\n        audioRef.current.play();\n      });\n  };\n\n  const clickPlaying = (e, state) => {\n    e.stopPropagation();\n    togglePlayingDispatch(state);\n    if(currentLyric.current) {\n      currentLyric.current.togglePlay(currentTime*1000);\n    }\n  };\n\n  const onProgressChange = curPercent => {\n    const newTime = curPercent * duration;\n    setCurrentTime(newTime);\n    audioRef.current.currentTime = newTime;\n    if (!playing) {\n      togglePlayingDispatch(true);\n    }\n    if (currentLyric.current) {\n      currentLyric.current.seek(newTime * 1000);\n    }\n  };\n\n  const updateTime = e => {\n    setCurrentTime(e.target.currentTime);\n  };\n\n  const handleLoop = () => {\n    audioRef.current.currentTime = 0;\n    togglePlayingDispatch(true);\n    audioRef.current.play();\n    if (currentLyric.current) {\n      currentLyric.current.seek(0);\n    }\n  };\n\n  const handlePrev = () => {\n    if (playList.length === 1) {\n      handleLoop();\n      return;\n    }\n    let index = currentIndex - 1;\n    if (index === 0) index = playList.length - 1;\n    if (!playing) togglePlayingDispatch(true);\n    changeCurrentIndexDispatch(index);\n  };\n\n  const handleNext = () => {\n    if (playList.length === 1) {\n      handleLoop();\n      return;\n    }\n    let index = currentIndex + 1;\n    if (index === playList.length) index = 0;\n    if (!playing) togglePlayingDispatch(true);\n    changeCurrentIndexDispatch(index);\n  };\n\n  const handleEnd = () => {\n    if (mode === playMode.loop) {\n      handleLoop();\n    } else {\n      handleNext();\n    }\n  };\n\n  const changeMode = () => {\n    let newMode = (mode + 1) % 3;\n    if (newMode === 0) {\n      //顺序模式\n      changePlayListDispatch(sequencePlayList);\n      let index = findIndex(currentSong, sequencePlayList);\n      changeCurrentIndexDispatch(index);\n      setModeText(\"顺序循环\");\n    } else if (newMode === 1) {\n      //单曲循环\n      changePlayListDispatch(sequencePlayList);\n      setModeText(\"单曲循环\");\n    } else if (newMode === 2) {\n      //随机播放\n      let newList = shuffle(sequencePlayList);\n      let index = findIndex(currentSong, newList);\n      changePlayListDispatch(newList);\n      changeCurrentIndexDispatch(index);\n      setModeText(\"随机播放\");\n    }\n    changeModeDispatch(newMode);\n    toastRef.current.show();\n  };\n  const handleError = () => {\n    songReady.current = true;\n    handleNext();\n    alert(\"播放出错\");\n  };\n\n  const clickSpeed = (newSpeed) => {\n    changeSpeedDispatch(newSpeed);\n    audioRef.current.playbackRate = newSpeed;\n    currentLyric.current.changeSpeed(newSpeed);\n    currentLyric.current.seek(currentTime*1000);\n  }\n\n  return (\n    <div>\n      {isEmptyObject(currentSong) ? null : (\n        <NormalPlayer\n          song={currentSong}\n          full={fullScreen}\n          playing={playing}\n          mode={mode}\n          percent={percent}\n          modeText={modeText}\n          duration={duration}\n          currentTime={currentTime}\n          currentLyric={currentLyric.current}\n          currentPlayingLyric={currentPlayingLyric}\n          speed={speed}\n          changeMode={changeMode}\n          handlePrev={handlePrev}\n          handleNext={handleNext}\n          onProgressChange={onProgressChange}\n          currentLineNum={currentLineNum.current}\n          clickPlaying={clickPlaying}\n          toggleFullScreenDispatch={toggleFullScreenDispatch}\n          togglePlayListDispatch={togglePlayListDispatch}\n          clickSpeed={clickSpeed}\n        ></NormalPlayer>\n      )}\n      {isEmptyObject(currentSong) ? null : (\n        <MiniPlayer\n          playing={playing}\n          full={fullScreen}\n          song={currentSong}\n          percent={percent}\n          clickPlaying={clickPlaying}\n          setFullScreen={toggleFullScreenDispatch}\n          togglePlayList={togglePlayListDispatch}\n        ></MiniPlayer>\n      )}\n\n      <PlayList clearPreSong={setPreSong.bind(null, {})}></PlayList>\n      <audio\n        ref={audioRef}\n        onTimeUpdate={updateTime}\n        onEnded={handleEnd}\n        onError={handleError}\n      ></audio>\n      <Toast text={modeText} ref={toastRef}></Toast>\n    </div>\n  );\n}\n\n// 映射Redux全局的state到组件的props上\nconst mapStateToProps = state => ({\n  fullScreen: state.getIn([\"player\", \"fullScreen\"]),\n  playing: state.getIn([\"player\", \"playing\"]),\n  currentSong: state.getIn([\"player\", \"currentSong\"]),\n  showPlayList: state.getIn([\"player\", \"showPlayList\"]),\n  mode: state.getIn([\"player\", \"mode\"]),\n  speed: state.getIn([\"player\", \"speed\"]),\n  currentIndex: state.getIn([\"player\", \"currentIndex\"]),\n  playList: state.getIn([\"player\", \"playList\"]),\n  sequencePlayList: state.getIn([\"player\", \"sequencePlayList\"])\n});\n\n// 映射dispatch到props上\nconst mapDispatchToProps = dispatch => {\n  return {\n    togglePlayingDispatch(data) {\n      dispatch(changePlayingState(data));\n    },\n    toggleFullScreenDispatch(data) {\n      dispatch(changeFullScreen(data));\n    },\n    togglePlayListDispatch(data) {\n      dispatch(changeShowPlayList(data));\n    },\n    changeCurrentIndexDispatch(index) {\n      dispatch(changeCurrentIndex(index));\n    },\n    changeCurrentDispatch(data) {\n      dispatch(changeCurrentSong(data));\n    },\n    changeModeDispatch(data) {\n      dispatch(changePlayMode(data));\n    },\n    changePlayListDispatch(data) {\n      dispatch(changePlayList(data));\n    },\n    changeSpeedDispatch(data) {\n      dispatch(changeSpeed(data));\n    }\n  };\n};\n\n// 将ui组件包装成容器组件\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(Player));","import React from \"react\";\nimport { renderRoutes } from \"react-router-config\";\nimport { Top, Tab, TabItem } from \"./HomeLayout.style\";\nimport { NavLink } from \"react-router-dom\";\nimport Player from \"../application/Player/index\";\n\nfunction Home(props) {\n  const { route } = props;\n\n  return (\n    <div>\n      <Top>\n        <span\n          className=\"iconfont menu\"\n          onClick={() => alert(\"用户中心正在开发中，敬请期待:)\")}\n        >\n          &#xe65c;\n        </span>\n        <span className=\"title\">云音悦</span>\n        <span\n          className=\"iconfont search\"\n          onClick={() => props.history.push(\"/search\")}\n        >\n          &#xe62b;\n        </span>\n      </Top>\n      <Tab>\n        <NavLink to=\"/recommend\" activeClassName=\"selected\">\n          <TabItem>\n            <span>推荐</span>\n          </TabItem>\n        </NavLink>\n        <NavLink to=\"/singers\" activeClassName=\"selected\">\n          <TabItem>\n            <span>歌手</span>\n          </TabItem>\n        </NavLink>\n        <NavLink to=\"/rank\" activeClassName=\"selected\">\n          <TabItem>\n            <span>排行榜</span>\n          </TabItem>\n        </NavLink>\n      </Tab>\n      {renderRoutes(route.routes)}\n      <Player></Player>\n    </div>\n  );\n}\n\nexport default React.memo(Home);","import React from \"react\";\nimport { renderRoutes } from \"react-router-config\";\n\nconst Layout = ({ route }) => <>{renderRoutes(route.routes)}</>;\n\nexport default Layout;\n","import React, { lazy, Suspense } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport HomeLayout from \"../layouts/HomeLayout\";\r\nimport BlankLayout from \"../layouts/BlankLayout\";\r\n\r\nconst SuspenseComponent = Component => props => {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Component {...props}></Component>\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nconst RecommendComponent = lazy(() => import(\"../application/Recommend/\"));\r\nconst SingersComponent = lazy(() => import(\"../application/Singers/\"));\r\nconst RankComponent = lazy(() => import(\"../application/Rank/\"));\r\nconst AlbumComponent = lazy(() => import(\"../application/Album/\"));\r\nconst SingerComponent = lazy(() => import(\"./../application/Singer/\"));\r\nconst SearchComponent = lazy(() => import(\"./../application/Search/\"));\r\n\r\nexport default [\r\n  {\r\n    component: BlankLayout,\r\n    routes: [\r\n      {\r\n        path: \"/\",\r\n        component: HomeLayout,\r\n        routes: [\r\n          {\r\n            path: \"/\",\r\n            exact: true,\r\n            render: () => <Redirect to={\"/recommend\"} />\r\n          },\r\n          {\r\n            path: \"/recommend\",\r\n            component: SuspenseComponent(RecommendComponent),\r\n            routes: [\r\n              {\r\n                path: \"/recommend/:id\",\r\n                component: SuspenseComponent(AlbumComponent)\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            path: \"/singers\",\r\n            component: SuspenseComponent(SingersComponent),\r\n            key: \"singers\",\r\n            routes: [\r\n              {\r\n                path: \"/singers/:id\",\r\n                component: SuspenseComponent(SingerComponent)\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            path: \"/rank/\",\r\n            component: SuspenseComponent(RankComponent),\r\n            key: \"rank\",\r\n            routes: [\r\n              {\r\n                path: \"/rank/:id\",\r\n                component: SuspenseComponent(AlbumComponent)\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            path: \"/album/:id\",\r\n            exact: true,\r\n            key: \"album\",\r\n            component: SuspenseComponent(AlbumComponent)\r\n          },\r\n          {\r\n            path: \"/search\",\r\n            exact: true,\r\n            key: \"search\",\r\n            component: SuspenseComponent(SearchComponent)\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n];","import React from 'react';\r\nimport { GlobalStyle } from './style';\r\nimport { IconStyle } from './assets/iconfont/iconfont';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store/index'\r\nimport routes from './routes/index.js'\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <HashRouter>\r\n        <div className=\"App\">\r\n          <GlobalStyle />\r\n          <IconStyle/>\r\n          { renderRoutes(routes)}\r\n          {/* <i className=\"iconfont\">&#xe62b;</i> */}\r\n        </div>\r\n      </HashRouter>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const CHANGE_CATOGORY = 'home/singers/CHANGE_CATEGORY';\nexport const CHANGE_ALPHA = 'home/singers/CHANGE_ALPHA';\nexport const CHANGE_SINGER_LIST = 'home/singers/CHANGE_SINGER_LIST';\nexport const CHANGE_LIST_OFFSET = 'home/singers/CHANGE_LIST_OFFSET';\nexport const CHANGE_ENTER_LOADING = 'home/singers/ENTER_LOADING';\nexport const CHANGE_PULLUP_LOADING = 'home/singers/PULLUP_LOADING';\nexport const CHANGE_PULLDOWN_LOADING = 'home/singers/PULLDOWN_LOADING';","export const SET_HOT_KEYWRODS = \"search/SET_HOT_KEYWRODS\";\r\nexport const SET_SUGGEST_LIST = 'search/SET_SUGGEST_LIST';\r\nexport const SET_RESULT_SONGS_LIST = 'search/SET_RESULT_SONGS_LIST'; \r\nexport const SET_ENTER_LOADING = 'search/SET_ENTER_LOADING'; ","export const CHANGE_ARTIST = 'singer/CHANGE_ARTIST';\r\nexport const CHANGE_SONGS_OF_ARTIST = 'singer/CHANGE_SONGS_OF_ARTIST';\r\nexport const CHANGE_ENTER_LOADING = 'singer/CHNAGE_ENTER_LOADING';","export const CHANGE_BANNER = 'recommend/CHANGE_BANNER';\r\n\r\nexport const CHANGE_RECOMMEND_LIST = 'recommend/RECOMMEND_LIST';\r\n\r\nexport const CHANGE_ENTER_LOADING = 'recommend/CHANGE_ENTER_LOADING';","export const CHANGE_CURRENT_ALBUM = 'album/CHANGE_CURRENT_ALBUM';\nexport const CHANGE_ENTER_LOADING = 'album/CHANGE_ENTER_LOADING';","import React, { forwardRef, useState,useEffect, useRef, useImperativeHandle, useMemo } from \"react\"\nimport PropTypes from \"prop-types\"\nimport BScroll from \"better-scroll\"\nimport styled from'styled-components';\nimport Loading from '../loading/index';\nimport LoadingV2 from '../../baseUI/loading-v2/index';\nimport { debounce } from \"../../api/utils\";\n\nconst ScrollContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`\n\nconst PullUpLoading = styled.div`\n  position: absolute;\n  left:0; right:0;\n  bottom: 5px;\n  width: 60px;\n  height: 60px;\n  margin: auto;\n  z-index: 100;\n`\n\nexport const PullDownLoading = styled.div`\n  position: absolute;\n  left:0; right:0;\n  top: 0px;\n  height: 30px;\n  margin: auto;\n  z-index: 100;\n`\n\nconst Scroll = forwardRef ((props, ref) => {\n  const [bScroll, setBScroll] = useState ();\n\n  const scrollContaninerRef = useRef ();\n\n  const { direction, click, refresh,  bounceTop, bounceBottom, pullUpLoading, pullDownLoading } = props;\n\n  const { pullUp, pullDown, onScroll } = props;\n  let pullUpDebounce = useMemo (() => {\n    return debounce (pullUp, 500)\n  }, [pullUp]);\n  // 千万注意，这里不能省略依赖，\n  // 不然拿到的始终是第一次 pullUp 函数的引用，相应的闭包作用域变量都是第一次的，产生闭包陷阱。下同。\n  \n  let pullDownDebounce = useMemo (() => {\n    return debounce (pullDown, 500)\n  }, [pullDown]);\n  useEffect (() => {\n    const scroll = new BScroll (scrollContaninerRef.current, {\n      scrollX: direction === \"horizental\",\n      scrollY: direction === \"vertical\",\n      probeType: 3,\n      click: click,\n      bounce:{\n        top: bounceTop,\n        bottom: bounceBottom\n      }\n    });\n    setBScroll (scroll);\n    return () => {\n      setBScroll (null);\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect (() => {\n    if (!bScroll || !onScroll) return;\n    bScroll.on ('scroll', (scroll) => {\n      onScroll (scroll);\n    })\n    return () => {\n      bScroll.off ('scroll');\n    }\n  }, [onScroll, bScroll]);\n\n  useEffect (() => {\n    if (!bScroll || !pullUp) return;\n    bScroll.on ('scrollEnd', () => {\n      // 判断是否滑动到了底部\n      if (bScroll.y <= bScroll.maxScrollY + 100){\n        pullUpDebounce ();\n      }\n    });\n    return () => {\n      bScroll.off ('scrollEnd');\n    }\n  }, [pullUpDebounce, bScroll]);\n\n  useEffect (() => {\n    if (!bScroll || !pullDown) return;\n    bScroll.on ('touchEnd', (pos) => {\n      // 判断用户的下拉动作\n      if (pos.y > 50) {\n        pullDownDebounce ();\n      }\n    });\n    return () => {\n      bScroll.off ('touchEnd');\n    }\n  }, [pullDownDebounce, bScroll]);\n\n\n  useEffect (() => {\n    if (refresh && bScroll){\n      bScroll.refresh ();\n    }\n  });\n\n  useImperativeHandle (ref, () => ({\n    refresh () {\n      if (bScroll) {\n        bScroll.refresh ();\n        bScroll.scrollTo (0, 0);\n      }\n    },\n    getBScroll () {\n      if (bScroll) {\n        return bScroll;\n      }\n    }\n  }));\n\n\n  const PullUpdisplayStyle = pullUpLoading ? {display: \"\"} : { display:\"none\" };\n  const PullDowndisplayStyle = pullDownLoading ? { display: \"\"} : { display:\"none\" };\n  return (\n    <ScrollContainer ref={scrollContaninerRef}>\n      {props.children}\n      {/* 滑到底部加载动画 */}\n      <PullUpLoading style={ PullUpdisplayStyle }><Loading></Loading></PullUpLoading>\n      {/* 顶部下拉刷新动画 */}\n      <PullDownLoading style={ PullDowndisplayStyle }><LoadingV2></LoadingV2></PullDownLoading>\n    </ScrollContainer>\n  );\n})\n\nScroll.defaultProps = {\n  direction: \"vertical\",\n  click: true,\n  refresh: true,\n  onScroll:null,\n  pullUpLoading: false,\n  pullDownLoading: false,\n  pullUp: null,\n  pullDown: null,\n  bounceTop: true,\n  bounceBottom: true\n};\n\nScroll.propTypes = {\n  direction: PropTypes.oneOf (['vertical', 'horizental']),\n  refresh: PropTypes.bool,\n  onScroll: PropTypes.func,\n  pullUp: PropTypes.func,\n  pullDown: PropTypes.func,\n  pullUpLoading: PropTypes.bool,\n  pullDownLoading: PropTypes.bool,\n  bounceTop: PropTypes.bool,// 是否支持向上吸顶\n  bounceBottom: PropTypes.bool// 是否支持向上吸顶\n};\n\nexport default Scroll;","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport style from '../../assets/global-style';\n\nconst loading = keyframes`\n  0%, 100% {\n    transform: scale(0.0);\n  }\n  50% {\n    transform: scale(1.0);\n  }\n`\nconst LoadingWrapper = styled.div`\n    >div {\n      position: absolute;\n      top: 0; left: 0; right: 0; bottom: 0;\n      margin: auto;\n      width: 60px;\n      height: 60px;\n      opacity: 0.6;\n      border-radius: 50%;\n      background-color: ${style[\"theme-color\"]};\n      animation: ${loading} 1.4s infinite ease-in;\n    }\n    >div:nth-child(2) {\n      animation-delay: -0.7s;\n    }\n`\n\nfunction Loading()  {\n  return (\n    <LoadingWrapper>\n      <div></div>\n      <div></div>\n    </LoadingWrapper>\n  );\n}\n \nexport default React.memo(Loading);","import { CHANGE_SONGS_OF_ARTIST, CHANGE_ARTIST, CHANGE_ENTER_LOADING } from './constants';\r\nimport { fromJS } from 'immutable';\r\nimport { getSingerInfoRequest } from './../../../api/request';\r\n\r\nconst changeArtist = (data) => ({\r\n  type: CHANGE_ARTIST,\r\n  data: fromJS(data)\r\n});\r\n\r\nconst changeSongs = (data) => ({\r\n  type: CHANGE_SONGS_OF_ARTIST,\r\n  data: fromJS(data)\r\n})\r\nexport const changeEnterLoading = (data) => ({\r\n  type: CHANGE_ENTER_LOADING,\r\n  data\r\n})\r\n\r\nexport const getSingerInfo = (id) => {\r\n  return dispatch => {\r\n    getSingerInfoRequest(id).then(data => {\r\n      dispatch(changeArtist(data.artist));\r\n      dispatch(changeSongs(data.hotSongs));\r\n      dispatch(changeEnterLoading(false));\r\n    })\r\n  }\r\n}","import { getBannerRequest,getRecommendListRequest } from '../../../api/request';\r\nimport { fromJS } from 'immutable';\r\nimport * as actionTypes from './constants';\r\n\r\nexport const changeBannerList = (data) => ({\r\n    type: actionTypes.CHANGE_BANNER,\r\n    data: fromJS(data)\r\n});\r\nexport const changeRecommendList = (data) => ({\r\n  type: actionTypes.CHANGE_RECOMMEND_LIST,\r\n  data: fromJS(data)\r\n});\r\nexport const changeEnterLoading = (data) => ({\r\n  type: actionTypes.CHANGE_ENTER_LOADING,\r\n  data\r\n});\r\nexport const getBannerList = () => {\r\n    return (dispatch) => {\r\n        // console.log('轮播图')\r\n      getBannerRequest().then(data => {\r\n          console.log(data.banners,'/////')\r\n        const action = changeBannerList(data.banners);\r\n        dispatch(action);\r\n      }).catch(() => {\r\n        console.log(\"轮播图数据传输错误\");\r\n      }) \r\n    }\r\n};\r\nexport const getRecommendList = () => {\r\n  return (dispatch) => {\r\n    getRecommendListRequest().then(data => {\r\n      console.log(data)\r\n      dispatch(changeRecommendList(data.result));\r\n      dispatch(changeEnterLoading(false));\r\n    }).catch(() => {\r\n      console.log(\"推荐歌单数据传输错误\");\r\n    });\r\n  }\r\n};","import {\n  getHotSingerListRequest,\n  getSingerListRequest\n} from \"../../../api/request\";\nimport {\n  CHANGE_SINGER_LIST,\n  CHANGE_CATOGORY,\n  CHANGE_ALPHA,\n  CHANGE_LIST_OFFSET,\n  CHANGE_PULLUP_LOADING,\n  CHANGE_PULLDOWN_LOADING,\n  CHANGE_ENTER_LOADING\n} from './constants';\nimport {\n  fromJS\n} from 'immutable';\n\nexport const changeCategory = (data) => ({\n  type: CHANGE_CATOGORY,\n  data\n});\n\nexport const changeAlpha = (data) => ({\n  type: CHANGE_ALPHA,\n  data\n});\n\nconst changeSingerList = (data) => ({\n  type: CHANGE_SINGER_LIST,\n  data: fromJS(data)\n});\n\nexport const changeListOffset = (data) => ({\n  type: CHANGE_LIST_OFFSET,\n  data\n});\n\n//进场loading\nexport const changeEnterLoading = (data) => ({\n  type: CHANGE_ENTER_LOADING,\n  data\n});\n\n//滑动最底部loading\nexport const changePullUpLoading = (data) => ({\n  type: CHANGE_PULLUP_LOADING,\n  data\n});\n\n//顶部下拉刷新loading\nexport const changePullDownLoading = (data) => ({\n  type: CHANGE_PULLDOWN_LOADING,\n  data\n});\n\n\nexport const getHotSingerList = () => {\n  return (dispatch) => {\n    getHotSingerListRequest(0).then(res => {\n      const data = res.artists;\n      dispatch(changeSingerList(data));\n      dispatch(changeEnterLoading(false));\n      dispatch(changePullDownLoading(false));\n      dispatch(changeListOffset(data.length));\n    }).catch(() => {\n      console.log('热门歌手数据获取失败');\n    })\n  }\n};\nexport const refreshMoreHotSingerList = () => {\n  return (dispatch, getState) => {\n    const offset = getState().getIn(['singers', 'listOffset']);\n    const singerList = getState().getIn(['singers', 'singerList']).toJS();\n    getHotSingerListRequest(offset).then(res => {\n      const data = [...singerList, ...res.artists];\n      dispatch(changeSingerList(data));\n      dispatch(changePullUpLoading(false));\n      dispatch(changeListOffset(data.length));\n    }).catch(() => {\n      console.log('热门歌手数据获取失败');\n    });\n  }\n};\n\n\n\nexport const getSingerList = () => {\n  return (dispatch, getState) => {\n    const offset = getState().getIn(['singers', 'listOffset']);\n    const category = getState().getIn(['singers', 'category']);\n    const alpha = getState().getIn(['singers', 'alpha']);\n    getSingerListRequest(category, alpha, offset).then(res => {\n      const data = res.artists;\n      dispatch(changeSingerList(data));\n      dispatch(changeEnterLoading(false));\n      dispatch(changePullDownLoading(false));\n      dispatch(changeListOffset(data.length));\n    }).catch(() => {\n      console.log('歌手数据获取失败');\n    });\n  }\n};\n\nexport const refreshMoreSingerList = () => {\n  return (dispatch, getState) => {\n    const category = getState().getIn(['singers', 'category']);\n    const alpha = getState().getIn(['singers', 'alpha']);\n    const offset = getState().getIn(['singers', 'listOffset']);\n    const singerList = getState().getIn(['singers', 'singerList']).toJS();\n    getSingerListRequest(category, alpha, offset).then(res => {\n      const data = [...singerList, ...res.artists];\n      dispatch(changeSingerList(data));\n      dispatch(changePullUpLoading(false));\n      dispatch(changeListOffset(data.length));\n    }).catch(() => {\n      console.log('歌手数据获取失败');\n    });\n  }\n};","import { CHANGE_CURRENT_ALBUM, CHANGE_ENTER_LOADING } from './constants';\nimport { getAlbumDetailRequest } from '../../../api/request';\nimport { fromJS } from 'immutable';\n\nconst changeCurrentAlbum = (data) => ({\n  type: CHANGE_CURRENT_ALBUM,\n  data: fromJS (data)\n});\n\nexport const changeEnterLoading = (data) => ({\n  type: CHANGE_ENTER_LOADING,\n  data\n});\n\nexport const getAlbumList = (id) => {\n  return dispatch => {\n    dispatch (changeEnterLoading (true));\n    getAlbumDetailRequest (id).then (res => {\n      let data = res.playlist;\n      dispatch (changeCurrentAlbum (data));\n      dispatch (changeEnterLoading (false));\n    }).catch (() => {\n      console.log (\"获取 album 数据失败！\")\n    });\n  }\n};","import { SET_HOT_KEYWRODS, SET_SUGGEST_LIST, SET_RESULT_SONGS_LIST, SET_ENTER_LOADING } from './constants';\r\nimport { fromJS } from 'immutable';\r\nimport { getHotKeyWordsRequest, getSuggestListRequest, getResultSongsListRequest } from './../../../api/request';\r\n\r\nconst changeHotKeyWords = (data) => ({\r\n  type: SET_HOT_KEYWRODS,\r\n  data: fromJS(data)\r\n});\r\n\r\nconst changeSuggestList = (data) => ({\r\n  type: SET_SUGGEST_LIST,\r\n  data: fromJS(data)\r\n});\r\n\r\nconst changeResultSongs = (data) => ({\r\n  type: SET_RESULT_SONGS_LIST,\r\n  data: fromJS(data)\r\n});\r\n\r\nexport const changeEnterLoading = (data) => ({\r\n  type: SET_ENTER_LOADING,\r\n  data\r\n});\r\n\r\nexport const getHotKeyWords = () => {\r\n  return dispatch => {\r\n    getHotKeyWordsRequest().then(data => {\r\n      let list = data.result.hots;\r\n      dispatch(changeHotKeyWords(list));\r\n    })\r\n  }\r\n};\r\nexport const getSuggestList = (query) => {\r\n  return dispatch => {\r\n    getSuggestListRequest(query).then(data => {\r\n      if(!data)return;\r\n      let res = data.result || [];\r\n      dispatch(changeSuggestList(res));\r\n    })\r\n    getResultSongsListRequest(query).then(data => {\r\n      if(!data)return;\r\n      let res = data.result.songs || [];\r\n      dispatch(changeResultSongs(res));\r\n      dispatch(changeEnterLoading(false));\r\n    })\r\n  }\r\n};","export const getCount = (count) => {\r\n  if(count < 0) return;\r\n  if(count < 10000) {\r\n    return count;\r\n  } else if(Math.floor(count / 10000) < 10000) {\r\n    return Math.floor(count/10000) + \"万\";\r\n  } else  {\r\n    return Math.floor(count / 10000000)/ 10 + \"亿\";\r\n  }\r\n}\r\n\r\nexport const debounce = (func, delay) => {\r\n  let timer;\r\n  return function (...args) {\r\n    if(timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(() => {\r\n      func.apply(this, args);\r\n      clearTimeout(timer);\r\n    }, delay);\r\n  }\r\n}\r\n\r\n//处理数据，找出第一个没有歌名的排行榜的索引\r\nexport const filterIndex = rankList => {\r\n  for (let i = 0; i < rankList.length - 1; i++) {\r\n    if (rankList[i].tracks.length && !rankList[i + 1].tracks.length) {\r\n      return i + 1;\r\n    }\r\n  }\r\n};\r\n\r\n//处理歌手列表拼接歌手名字\r\nexport const getName = list => {\r\n  let str = \"\";\r\n  list.map((item, index) => {\r\n    str += index === 0 ? item.name : \"/\" + item.name;\r\n    return item;\r\n  });\r\n  return str;\r\n};\r\n\r\n//判断一个对象是否为空\r\nexport const isEmptyObject = obj => !obj || Object.keys(obj).length === 0;\r\n\r\n//转换歌曲播放时间\r\nexport const formatPlayTime = interval => {\r\n  interval = interval | 0;\r\n  const minute = (interval / 60) | 0;\r\n  const second = (interval % 60).toString().padStart(2, \"0\");\r\n  return `${minute}:${second}`;\r\n};\r\n\r\n// 给css3相关属性增加浏览器前缀，处理浏览器兼容性问题\r\nlet elementStyle = document.createElement(\"div\").style;\r\n\r\nlet vendor = (() => {\r\n  //首先通过transition属性判断是何种浏览器\r\n  let transformNames = {\r\n    webkit: \"webkitTransform\",\r\n    Moz: \"MozTransform\",\r\n    O: \"OTransfrom\",\r\n    ms: \"msTransform\",\r\n    standard: \"Transform\"\r\n  };\r\n  for (let key in transformNames) {\r\n    if (elementStyle[transformNames[key]] !== undefined) {\r\n      return key;\r\n    }\r\n  }\r\n  return false;\r\n})();\r\n\r\nexport function prefixStyle(style) {\r\n  if (vendor === false) {\r\n    return false;\r\n  }\r\n  if (vendor === \"standard\") {\r\n    return style;\r\n  }\r\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\n\r\n//拼接出歌曲的url链接\r\nexport const getSongUrl = id => {\r\n  return `https://music.163.com/song/media/outer/url?id=${id}.mp3`;\r\n};\r\n\r\nfunction getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n// 随机算法\r\nexport function shuffle(arr) {\r\n  let new_arr = [];\r\n  arr.forEach(item => {\r\n    new_arr.push(item);\r\n  });\r\n  for (let i = 0; i < new_arr.length; i++) {\r\n    let j = getRandomInt(0, i);\r\n    let t = new_arr[i];\r\n    new_arr[i] = new_arr[j];\r\n    new_arr[j] = t;\r\n  }\r\n  return new_arr;\r\n}\r\n\r\n// 找到当前的歌曲索引\r\nexport const findIndex = (song, list) => {\r\n  return list.findIndex(item => {\r\n    return song.id === item.id;\r\n  });\r\n};","import { fromJS } from 'immutable';\nimport { getRankListRequest } from '../../../api/request';\n\n//constants\nexport const CHANGE_RANK_LIST = 'home/rank/CHANGE_RANK_LIST';\nexport const CHANGE_LOADING = 'home/rank/CHANGE_LOADING';\n\n//actionCrreator\nconst changeRankList = (data) => ({\n  type: CHANGE_RANK_LIST,\n  data: fromJS(data)\n})\n\nexport const getRankList = () => {\n  return dispatch => {\n    getRankListRequest().then(data => {\n      let list = data && data.list;\n      dispatch(changeRankList(list));\n      dispatch(changeLoading(false));\n    })\n  }\n}\n\nconst changeLoading = (data) => ({\n  type: CHANGE_LOADING,\n  data\n})\n\n//reducer\nconst defaultState = fromJS({\n  rankList: [],\n  loading: true\n})\n\nconst reducer = (state = defaultState, action) => {\n  switch(action.type) {\n    case CHANGE_RANK_LIST:\n      return state.set('rankList', action.data);\n    case CHANGE_LOADING:\n      return state.set('loading', action.data);\n    default:\n      return state;\n  }\n}\n\nexport { reducer };","import React from 'react';\nimport styled, {keyframes} from 'styled-components';\nimport style from '../../assets/global-style'\n\nconst dance = keyframes`\n    0%, 40%, 100%{\n      transform: scaleY(0.4);\n      transform-origin: center 100%;\n    }\n    20%{\n      transform: scaleY(1);\n    }\n`\nconst Loading = styled.div`\n    height: 10px;\n    width: 100%;\n    margin: auto;\n    text-align: center;\n    font-size: 10px;\n    >div{\n      display: inline-block;\n      background-color: ${style[\"theme-color\"]};\n      height: 100%;\n      width: 1px;\n      margin-right:2px;\n      animation: ${dance} 1s infinite;\n    }\n    >div:nth-child(2) {\n      animation-delay: -0.4s;\n    }\n    >div:nth-child(3) {\n      animation-delay: -0.6s;\n    }\n    >div:nth-child(4) {\n      animation-delay: -0.5s;\n    }\n    >div:nth-child(5) {\n      animation-delay: -0.2s;\n    } \n\n`\n\nfunction LoadingV2() {\n  return (\n    <Loading>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <span>拼命加载中...</span>\n    </Loading>\n  );\n}\n \nexport default React.memo(LoadingV2);","import axios from \"axios\";\r\n\r\nexport const baseUrl = \"http://neteasecloudmusicapi.zhaoboy.com\";\r\n\r\n// axios的实例及拦截器配置\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseUrl\r\n});\r\n\r\naxiosInstance.interceptors.response.use(\r\n  res => res.data,\r\n  err => {\r\n    console.log(err, \"网络错误\");\r\n  }\r\n);\r\n\r\nexport { axiosInstance };\r\n\r\n//歌手种类\r\nexport const categoryTypes = [\r\n  {\r\n    name: \"华语男\",\r\n    key: \"1001\"\r\n  },\r\n  {\r\n    name: \"华语女\",\r\n    key: \"1002\"\r\n  },\r\n  {\r\n    name: \"华语组合\",\r\n    key: \"1003\"\r\n  },\r\n  {\r\n    name: \"欧美男\",\r\n    key: \"2001\"\r\n  },\r\n  {\r\n    name: \"欧美女\",\r\n    key: \"2002\"\r\n  },\r\n  {\r\n    name: \"欧美组合\",\r\n    key: \"2003\"\r\n  },\r\n  {\r\n    name: \"日本男\",\r\n    key: \"6001\"\r\n  },\r\n  {\r\n    name: \"日本女\",\r\n    key: \"6002\"\r\n  },\r\n  {\r\n    name: \"日本组合\",\r\n    key: \"6003\"\r\n  },\r\n  {\r\n    name: \"韩国男\",\r\n    key: \"7001\"\r\n  },\r\n  {\r\n    name: \"韩国女\",\r\n    key: \"7002\"\r\n  },\r\n  {\r\n    name: \"韩国组合\",\r\n    key: \"7003\"\r\n  },\r\n  {\r\n    name: \"其他男歌手\",\r\n    key: \"4001\"\r\n  },\r\n  {\r\n    name: \"其他女歌手\",\r\n    key: \"4002\"\r\n  },\r\n  {\r\n    name: \"其他组合\",\r\n    key: \"4003\"\r\n  }\r\n];\r\n\r\n//歌手首字母\r\nexport const alphaTypes = [\r\n  {\r\n    key: \"A\",\r\n    name: \"A\"\r\n  },\r\n  {\r\n    key: \"B\",\r\n    name: \"B\"\r\n  },\r\n  {\r\n    key: \"C\",\r\n    name: \"C\"\r\n  },\r\n  {\r\n    key: \"D\",\r\n    name: \"D\"\r\n  },\r\n  {\r\n    key: \"E\",\r\n    name: \"E\"\r\n  },\r\n  {\r\n    key: \"F\",\r\n    name: \"F\"\r\n  },\r\n  {\r\n    key: \"G\",\r\n    name: \"G\"\r\n  },\r\n  {\r\n    key: \"H\",\r\n    name: \"H\"\r\n  },\r\n  {\r\n    key: \"I\",\r\n    name: \"I\"\r\n  },\r\n  {\r\n    key: \"J\",\r\n    name: \"J\"\r\n  },\r\n  {\r\n    key: \"K\",\r\n    name: \"K\"\r\n  },\r\n  {\r\n    key: \"L\",\r\n    name: \"L\"\r\n  },\r\n  {\r\n    key: \"M\",\r\n    name: \"M\"\r\n  },\r\n  {\r\n    key: \"N\",\r\n    name: \"N\"\r\n  },\r\n  {\r\n    key: \"O\",\r\n    name: \"O\"\r\n  },\r\n  {\r\n    key: \"P\",\r\n    name: \"P\"\r\n  },\r\n  {\r\n    key: \"Q\",\r\n    name: \"Q\"\r\n  },\r\n  {\r\n    key: \"R\",\r\n    name: \"R\"\r\n  },\r\n  {\r\n    key: \"S\",\r\n    name: \"S\"\r\n  },\r\n  {\r\n    key: \"T\",\r\n    name: \"T\"\r\n  },\r\n  {\r\n    key: \"U\",\r\n    name: \"U\"\r\n  },\r\n  {\r\n    key: \"V\",\r\n    name: \"V\"\r\n  },\r\n  {\r\n    key: \"W\",\r\n    name: \"W\"\r\n  },\r\n  {\r\n    key: \"X\",\r\n    name: \"X\"\r\n  },\r\n  {\r\n    key: \"Y\",\r\n    name: \"Y\"\r\n  },\r\n  {\r\n    key: \"Z\",\r\n    name: \"Z\"\r\n  }\r\n];\r\n\r\n//排行榜编号\r\nexport const RankTypes = {\r\n  \"0\": \"云音乐新歌榜\",\r\n  \"1\": \"云音乐热歌榜\",\r\n  \"2\": \"网易原创歌曲榜\",\r\n  \"3\": \"云音乐飙升榜\",\r\n  \"4\": \"云音乐国电榜\",\r\n  \"5\": \"UK排行榜周榜\",\r\n  \"6\": \"美国Billboard周榜\",\r\n  \"7\": \"KTV唛榜\",\r\n  \"8\": \"iTunes榜\",\r\n  \"9\": \"Hit FM Top榜\",\r\n  \"10\": \"日本Oricon周榜\",\r\n  \"11\": \"韩国Melon排行榜周榜\",\r\n  \"12\": \"韩国Mnet排行榜周榜\",\r\n  \"13\": \"韩国Melon原声周榜\",\r\n  \"14\": \"中国TOP排行榜（港台榜）\",\r\n  \"15\": \"中国TOP排行榜（内地榜）\",\r\n  \"16\": \"香港电台中文歌曲龙虎榜\",\r\n  \"17\": \"华语金曲榜\",\r\n  \"18\": \"中国嘻哈榜\",\r\n  \"19\": \"法国 NRJ Vos Hits 周榜\",\r\n  \"20\": \"台湾Hito排行榜\",\r\n  \"21\": \"Beatport全球电子舞曲榜\",\r\n  \"22\": \"云音乐ACG音乐榜\",\r\n  \"23\": \"江小白YOLO云音乐说唱榜\"\r\n};\r\n\r\n//歌单一页限定歌曲数量\r\nexport const ONE_PAGE_COUNT = 50;\r\n\r\n//顶部的高度\r\nexport const HEADER_HEIGHT = 45;\r\n\r\n//播放模式\r\nexport const playMode = {\r\n  sequence: 0,\r\n  loop: 1,\r\n  random: 2\r\n};\r\n\r\n// 倍速播放配置\r\nexport const list = [\r\n  {\r\n    key: 0.75,\r\n    name: \"x0.75\"\r\n  },\r\n  {\r\n    key: 1,\r\n    name:\"x1\"\r\n  }, \r\n  {\r\n    key: 1.25,\r\n    name:\"x1.25\"\r\n  }, \r\n  {\r\n    key: 1.5,\r\n    name:\"x1.5\"\r\n  }, \r\n  {\r\n    key: 2,\r\n    name:\"x2\"\r\n  }\r\n]","module.exports = __webpack_public_path__ + \"static/media/disc.2a5e9e65.png\";","module.exports = __webpack_public_path__ + \"static/media/needle.047d988b.png\";","export const SET_CURRENT_SONG = 'player/SET_CURRENT_SONG';\nexport const SET_FULL_SCREEN = 'player/SET_FULL_SCREEN';\nexport const SET_PLAYING_STATE = 'player/SET_PLAYING_STATE';\nexport const SET_SEQUECE_PLAYLIST = 'player/SET_SEQUECE_PLAYLIST';\nexport const SET_PLAYLIST = 'player/SET_PLAYLIST';\nexport const SET_PLAY_MODE = 'player/SET_PLAY_MODE';\nexport const SET_CURRENT_INDEX = 'player/SET_CURRENT_INDEX';\nexport const SET_SHOW_PLAYLIST = 'player/SET_SHOW_PLAYLIST';\nexport const INSERT_SONG = 'player/INSERT_SONG';\nexport const DELETE_SONG = 'player/DELETE_SONG';\nexport const CHANGE_SPEED = 'player/CHANGE_SPEED';"],"sourceRoot":""}